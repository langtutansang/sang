(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{clWd:function(n,l,t){"use strict";var e=t("CcnG"),u=t("gIcY"),o=t("Ip0R");t("u1T+"),t("YZbJ"),t("SZbH"),t.d(l,"a",function(){return i}),t.d(l,"b",function(){return s});var i=e.sb({encapsulation:0,styles:[[""]],data:{}});function a(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,9,"label",[["class","ca-btn-radio"]],null,null,null,null,null)),(n()(),e.ub(1,0,null,null,6,"input",[["type","radio"]],[[1,"disabled",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"click"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,l,t){var u=!0,o=n.component;return"input"===l&&(u=!1!==e.Eb(n,2)._handleInput(t.target.value)&&u),"blur"===l&&(u=!1!==e.Eb(n,2).onTouched()&&u),"compositionstart"===l&&(u=!1!==e.Eb(n,2)._compositionStart()&&u),"compositionend"===l&&(u=!1!==e.Eb(n,2)._compositionEnd(t.target.value)&&u),"change"===l&&(u=!1!==e.Eb(n,3).onChange()&&u),"blur"===l&&(u=!1!==e.Eb(n,3).onTouched()&&u),"click"===l&&(u=!1!==o.click(n.context.$implicit)&&u),u},null,null)),e.tb(2,16384,null,0,u.c,[e.H,e.l,[2,u.a]],null,null),e.tb(3,212992,null,0,u.q,[e.H,e.l,u.v,e.t],{name:[0,"name"],value:[1,"value"]},null),e.Jb(1024,null,u.k,function(n,l){return[n,l]},[u.c,u.q]),e.tb(5,540672,null,0,u.f,[[8,null],[8,null],[6,u.k],[2,u.w]],{form:[0,"form"]},null),e.Jb(2048,null,u.l,null,[u.f]),e.tb(7,16384,null,0,u.m,[[4,u.l]],null,null),(n()(),e.ub(8,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Mb(9,null,["",""]))],function(n,l){var t=l.component;n(l,3,0,"input-radio-"+t.key,l.context.$implicit.value),n(l,5,0,t.inputControl)},function(n,l){n(l,1,0,l.context.$implicit.disabled||l.component.disabled?"disabled":null,e.Eb(l,7).ngClassUntouched,e.Eb(l,7).ngClassTouched,e.Eb(l,7).ngClassPristine,e.Eb(l,7).ngClassDirty,e.Eb(l,7).ngClassValid,e.Eb(l,7).ngClassInvalid,e.Eb(l,7).ngClassPending),n(l,9,0,l.context.$implicit.displayValue)})}function s(n){return e.Ob(0,[e.Kb(402653184,1,{inputRef:0}),(n()(),e.ub(1,0,null,null,4,"div",[],null,null,null,null,null)),(n()(),e.ub(2,0,null,null,1,"label",[],null,null,null,null,null)),(n()(),e.Mb(3,null,["",""])),(n()(),e.lb(16777216,null,null,1,null,a)),e.tb(5,278528,null,0,o.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null)],function(n,l){n(l,5,0,l.component.list)},function(n,l){n(l,3,0,l.component.label)})}},kuP5:function(n,l,t){"use strict";t.r(l);var e=t("CcnG"),u=function(){},o=t("pMnS"),i=t("Ip0R"),a=t("E9yh"),s=t("1YRo"),r=function(){function n(n){this.video=n,this.locale=s.a,this.streamingState$=this.video.state$}return n.prototype.ngOnInit=function(){},n}(),c=e.sb({encapsulation:0,styles:[["[_nghost-%COMP%]   h2[_ngcontent-%COMP%]{color:#adaeb3;font-weight:500;font-style:normal;font-stretch:normal;line-height:normal;letter-spacing:normal;margin-top:3rem}[_nghost-%COMP%]   .video[_ngcontent-%COMP%]{max-width:1200px;display:block;width:100%;max-height:800px;height:100%}"]],data:{}});function d(n){return e.Ob(0,[(n()(),e.Mb(0,null,["",""]))],null,function(n,l){n(l,0,0,l.component.locale["video.connecting.title"])})}function b(n){return e.Ob(0,[(n()(),e.Mb(0,null,["",""]))],null,function(n,l){n(l,0,0,l.component.locale["video.empty.title"])})}function g(n){return e.Ob(0,[(n()(),e.Mb(0,null,["",""]))],null,function(n,l){n(l,0,0,l.component.locale["video.connected.title"])})}function p(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,13,"div",[["class","uk-height-1-1 uk-flex uk-flex-column uk-flex-middle uk-flex-center"]],null,null,null,null,null)),(n()(),e.ub(1,0,null,null,12,"div",[["class","uk-flex-column"]],null,null,null,null,null)),(n()(),e.ub(2,0,null,null,1,"img",[["src","assets/images/group-366.svg"]],[[8,"title",0]],null,null,null,null)),e.Gb(131072,i.b,[e.i]),(n()(),e.ub(4,0,null,null,9,"h2",[["class","uk-text-center"]],null,null,null,null,null)),(n()(),e.lb(16777216,null,null,2,null,d)),e.tb(6,16384,null,0,i.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),e.Gb(131072,i.b,[e.i]),(n()(),e.lb(16777216,null,null,2,null,b)),e.tb(9,16384,null,0,i.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),e.Gb(131072,i.b,[e.i]),(n()(),e.lb(16777216,null,null,2,null,g)),e.tb(12,16384,null,0,i.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),e.Gb(131072,i.b,[e.i])],function(n,l){var t=l.component;n(l,6,0,"connecting"===e.Nb(l,6,0,e.Eb(l,7).transform(t.streamingState$))),n(l,9,0,"empty"===e.Nb(l,9,0,e.Eb(l,10).transform(t.streamingState$))),n(l,12,0,"connected"===e.Nb(l,12,0,e.Eb(l,13).transform(t.streamingState$)))},function(n,l){var t=l.component;n(l,2,0,e.wb(1,"",e.Nb(l,2,0,e.Eb(l,3).transform(t.video.state$)),""))})}function h(n){return e.Ob(0,[(n()(),e.lb(16777216,null,null,2,null,p)),e.tb(1,16384,null,0,i.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),e.Gb(131072,i.b,[e.i])],function(n,l){var t=l.component;n(l,1,0,"streaming"!==e.Nb(l,1,0,e.Eb(l,2).transform(t.streamingState$)))},null)}var m=t("ZYCi"),f=t("PZQB"),C=function(){function n(n,l,t,e){this.route=n,this.messagesService=l,this.dom=t,this.toastr=e,this.locale=s.a,this.lastIndex=0}return n.prototype.ngOnInit=function(){var n=this;this.state$=this.messagesService.state$,this.route.snapshot.data.messages$.subscribe(function(l){l.length>0&&(n.lastIndex=l.slice(-1)[0].index),n.scrollToBottom()}),this.messages$=this.route.snapshot.data.messages$,this.patient=this.route.snapshot.data.patient,this.userLogged=JSON.parse(localStorage.getItem("credentials")),this.onConnectMessage()},n.prototype.sendMessage=function(n){var l=this;this.resetInputMessage(),""!==n&&this.messagesService.send(n).subscribe(function(){l.resetInputMessage()},function(n){l.toastr.warning("Sending the message failed ","Error"),console.error(n)})},n.prototype.scrollToBottom=function(){var n=this;setTimeout(function(){var l=n.scrollableContent.nativeElement;l.scrollTop=l.scrollHeight},1e3)},n.prototype.resetInputMessage=function(){this.inputMessage.nativeElement.innerHTML=""},n.prototype.focusInputMessage=function(){this.inputMessage.nativeElement.focus()},n.prototype.saveRenId=function(){localStorage.setItem("modal:sharefiles",this.route.snapshot.params.rendezvous_id)},n.prototype.onConnectMessage=function(){var n=this;setTimeout(function(){n.state$.subscribe(function(n){"chatting"!==n&&location.reload(!0)})},15e3)},n.prototype.setIndexRead=function(){this.messagesService.setReadMessage(this.lastIndex)},n}(),v=t("ZYjt"),O=t("SZbH"),M=e.sb({encapsulation:0,styles:[["[_nghost-%COMP%]   .scrollable-content[_ngcontent-%COMP%]{overflow-y:auto;height:500px;flex-grow:1}[_nghost-%COMP%]   .spinner[_ngcontent-%COMP%]{width:650px;margin:auto;position:relative;height:100%}[_nghost-%COMP%]   ul.messages[_ngcontent-%COMP%]{width:650px;margin-top:2rem;margin-left:auto;margin-right:auto}[_nghost-%COMP%]   ul.messages[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:400px;font-style:normal;font-stretch:normal;line-height:normal;letter-spacing:normal;font-size:14px;color:#353b50}[_nghost-%COMP%]   ul.messages[_ngcontent-%COMP%]   li.right[_ngcontent-%COMP%]{margin-left:auto}[_nghost-%COMP%]   ul.messages[_ngcontent-%COMP%]   li.right[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{text-align:right}[_nghost-%COMP%]   ul.messages[_ngcontent-%COMP%]   li.right[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{background:#fff;word-wrap:break-word}[_nghost-%COMP%]   ul.messages[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:first-child){margin-top:1rem}[_nghost-%COMP%]   ul.messages[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{border:1px solid #ebecf2;border-radius:5px;line-height:1.4rem;background:#dfe0e6;padding:1rem;word-wrap:break-word}[_nghost-%COMP%]   ul.messages[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{color:#353b50;padding:.5rem}[_nghost-%COMP%]   ul.messages[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-style:normal;font-stretch:normal;line-height:normal;letter-spacing:normal;font-size:.9rem;font-weight:700;margin-right:.5rem}[_nghost-%COMP%]   ul.messages[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-style:normal;font-stretch:normal;line-height:normal;letter-spacing:normal;font-size:.7rem}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{position:relative;border:1px solid #ebecf2;background:#fff;border-radius:5px;max-width:620px;width:80%;padding:1rem;margin:3rem auto 4rem}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .textarea[_ngcontent-%COMP%]{border:none;min-height:20px;max-height:150px;padding:0}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .uk-position-right[_ngcontent-%COMP%]{bottom:10px;top:auto}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .file[_ngcontent-%COMP%]{border:none;margin-right:2.3rem;margin-top:1rem;padding:0 0 0 1rem;border-left:1px solid #ebecf2}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .textarea[_ngcontent-%COMP%]{padding-right:3rem}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]{width:330px;background:#fff;border-left:1px solid #ebecf2}"]],data:{}});function _(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"div",[["class","spinner"]],null,null,null,null,null)),(n()(),e.ub(1,0,null,null,0,"span",[["class","uk-position-center"],["uk-spinner",""]],null,null,null,null,null))],null,null)}function P(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Mb(1,null,["Dr. "," ",""]))],null,function(n,l){var t=l.component;n(l,1,0,t.userLogged.first_name,t.userLogged.last_name)})}function k(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Mb(1,null,[""," ",""]))],null,function(n,l){var t=l.component;n(l,1,0,t.patient.firstName,t.patient.lastName)})}function y(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,9,"li",[],[[2,"right",null]],null,null,null,null)),(n()(),e.ub(1,0,null,null,0,"div",[["class","message"]],[[8,"innerHTML",1]],null,null,null,null)),(n()(),e.ub(2,0,null,null,7,"div",[["class","meta"]],null,null,null,null,null)),(n()(),e.lb(16777216,null,null,1,null,P)),e.tb(4,16384,null,0,i.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.lb(16777216,null,null,1,null,k)),e.tb(6,16384,null,0,i.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.ub(7,0,null,null,2,"small",[],null,null,null,null,null)),(n()(),e.Mb(8,null,["",""])),e.Gb(131072,i.b,[e.i])],function(n,l){var t=l.component;n(l,4,0,l.context.$implicit.author===t.userLogged.userId),n(l,6,0,l.context.$implicit.author!==t.userLogged.userId)},function(n,l){n(l,0,0,l.context.$implicit.author===l.component.userLogged.userId),n(l,1,0,null==l.context.$implicit?null:l.context.$implicit.body),n(l,8,0,e.Nb(l,8,0,e.Eb(l,9).transform(null==l.context.$implicit?null:l.context.$implicit.fromNow$)))})}function x(n){return e.Ob(0,[e.Kb(402653184,1,{scrollableContent:0}),e.Kb(402653184,2,{inputMessage:0}),(n()(),e.ub(2,0,null,null,19,"div",[["class","uk-height-1-1 uk-flex uk-flex-column"]],null,null,null,null,null)),(n()(),e.ub(3,0,[[1,0],["scrollableContent",1]],null,7,"div",[["class","scrollable-content"]],null,null,null,null,null)),(n()(),e.lb(16777216,null,null,2,null,_)),e.tb(5,16384,null,0,i.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),e.Gb(131072,i.b,[e.i]),(n()(),e.ub(7,0,null,null,3,"ul",[["class","messages"]],null,null,null,null,null)),(n()(),e.lb(16777216,null,null,2,null,y)),e.tb(9,278528,null,0,i.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),e.Gb(131072,i.b,[e.i]),(n()(),e.ub(11,0,null,null,10,"form",[["class","ca-consultation-messages"]],[[2,"disabled",null]],null,null,null,null)),e.Gb(131072,i.b,[e.i]),(n()(),e.ub(13,0,[[2,0],["inputMessage",1]],null,0,"div",[["class","textarea uk-textarea no-shadow-on-focus"],["contenteditable","true"]],null,[[null,"click"],[null,"keydown.enter"]],function(n,l,t){var e=!0,u=n.component;return"click"===l&&(e=!1!==u.setIndexRead()&&e),"keydown.enter"===l&&(t.preventDefault(),e=!1!==u.sendMessage(t.target.innerHTML)&&e),e},null,null)),(n()(),e.ub(14,0,null,null,7,"div",[["class","uk-position-right"]],null,null,null,null,null)),(n()(),e.ub(15,0,null,null,6,"a",[["class","file uk-button uk-button-default uk-button-small"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,t){var u=!0,o=n.component;return"click"===l&&(u=!1!==e.Eb(n,16).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&u),"click"===l&&(u=!1!==o.saveRenId()&&u),u},null,null)),e.tb(16,671744,null,0,m.p,[m.m,m.a,i.i],{routerLink:[0,"routerLink"]},null),e.Fb(17,1),e.Hb(18,{modal:0}),e.Hb(19,{outlets:0}),e.Fb(20,2),(n()(),e.ub(21,0,null,null,0,"img",[["src","assets/images/file.svg"]],null,null,null,null,null))],function(n,l){var t=l.component;n(l,5,0,"chatting"!==e.Nb(l,5,0,e.Eb(l,6).transform(t.state$))),n(l,9,0,e.Nb(l,9,0,e.Eb(l,10).transform(t.messages$))),n(l,16,0,n(l,20,0,"",n(l,19,0,n(l,18,0,n(l,17,0,"sharefiles")))))},function(n,l){var t=l.component;n(l,11,0,"chatting"!==e.Nb(l,11,0,e.Eb(l,12).transform(t.state$))),n(l,15,0,e.Eb(l,16).target,e.Eb(l,16).href)})}var w=t("clWd"),E=t("u1T+"),I=t("YZbJ"),S=t("iALW"),z=t("zL2J"),$=t("uTto"),T=t("ImiU"),N=t("LP9L"),F=t("AV+3"),L=t("ioQR"),j=t("FwOg"),H=t("kqra"),A=t("9VO+"),Q=t("ttpr"),K=t("SA/s"),G=t("ZjNd"),R=t("TxC/"),D=t("7O5W"),V=t("wHSu"),q=t("AytR"),J=t("oy4r"),Z=t("Enh/");D.d.add(V.E,V.z),D.d.add(V.E,V.x);var Y=q.a.store.models.patient.defaultCountryCode,B=function(){function n(n,l,t,e,u,o){var i=this;this.route=n,this.store=l,this.router=t,this.toastr=e,this.video=u,this.handleService=o,this.locale=s.a,this.file=[],this.patientPhoneMask={mask:"{"+Y+" (\\0)} 0 00 00 00 00",lazy:!1,placeholderChar:" "},this.cc=q.a.store.models.patient.defaultCountryCode,this.isFinishing=!1,this.onFinishSuccess=function(){sessionStorage.clear(),i.router.navigate(["",{outlets:{modal:null}}]),i.router.navigate(["/"]),i.isFinishing=!1,i.toastr.success("The appointment ended well.","Success")},this.onFinishFail=function(n){i.isFinishing=!1,i.toastr.error("The appointment did not complete properly.","Error")}}return n.prototype.ngOnInit=function(){var n=this;this.patient=this.route.snapshot.data.patient,this.user=JSON.parse(localStorage.getItem("credentials")),this.messages$=this.route.snapshot.data.messages$,this.isChildOptions=[{displayValue:"T\xe9l\xe9consultation personnelle",value:!1},{displayValue:"T\xe9l\xe9consultation pour un enfant",value:!0}],this.protectionOptions=Z.c,this.genderOptions=[{displayValue:"Madame",value:"female"},{displayValue:"Monsieur",value:"male"}],this.genderChildOptions=[{displayValue:"Garcon",value:"male"},{displayValue:"Fille",value:"female"}],this.captures$=this.route.snapshot.data.captures$,this.rendezvous=this.route.snapshot.data.rendezvous,this.route.snapshot.data.file$.subscribe(function(l){return n.file=l})},n.prototype.onSelectIsChild=function(n){this.patient.isChild=n.value,this.store.save("patient",this.patient).subscribe()},n.prototype.onSelectProtection=function(n){this.patient.socialProtection=n.value},n.prototype.endCall=function(){var n=this;this.store.findOne("rendezvous",this.rendezvous.id).subscribe(function(l){if(!l.payment_status)return n.router.navigate(["",{outlets:{modal:["confirm-payment",n.rendezvous.id]}}]);n.isFinishing=!0,n.video.disconnect(),n.store.trigger("rendezvous","leaveCall",n.route.snapshot.params.rendezvous_id).subscribe(n.onFinishSuccess,n.onFinishFail)})},n.prototype.removeFile=function(n){var l=this,t=n.file;this.store.delete("file",t.id).subscribe(function(){l.file=l.file.filter(function(n){return n.id!==t.id}),l.toastr.success("The file has been deleted with Success.","Success")},function(n){return l.toastr.warning("An error occurred while deleting the file:","Error")})},n}(),U=e.sb({encapsulation:0,styles:[["[_nghost-%COMP%]   .actions[_ngcontent-%COMP%]{max-width:620px;width:100%;margin:1rem auto auto;text-align:right}[_nghost-%COMP%]   .scrollable-content[_ngcontent-%COMP%]{height:calc(100vh - 82px)}[_nghost-%COMP%]   .scrollable-content[_ngcontent-%COMP%] > section[_ngcontent-%COMP%]{height:100%;overflow-y:auto;position:relative}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{border:1px solid #ebecf2;border-radius:5px;background:#fff;max-width:620px;width:100%;margin:1rem auto}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]:last-child{margin-bottom:4rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]:first-child{margin-top:2rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{padding:0 4rem;margin-top:1.5rem;margin-bottom:1.5rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   form.readonly[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{background:0 0;border:none;padding:0;line-height:.8rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]:first-child{margin-top:3rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]:last-child{margin-bottom:3rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]:not(:first-child){padding-top:1rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{font-weight:500;font-size:.9rem;width:100%}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%], [_nghost-%COMP%]   .content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]:not(:first-child){margin-top:2rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .screenshots[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;background:#ebecf2;width:70px;height:70px;display:inline-block;margin-right:.9rem;border-radius:5px;overflow:hidden;margin-bottom:.5rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .screenshots[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(6n){margin-right:0}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .screenshots[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{min-width:100px}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   ul.files-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;border:1px solid #ebecf2;border-radius:5px;background:#fff;padding:1rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   ul.files-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:300px;display:inline-block;text-decoration:underline;font-size:.9rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   ul.files-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-style:normal;font-stretch:normal;letter-spacing:normal;color:#888fb5;font-size:.9rem;float:right;line-height:1.4rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   ul.files-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.has-delete[_ngcontent-%COMP%]{padding-right:2.4rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   ul.files-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.has-delete[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;position:absolute;right:.5rem;padding-left:1rem;top:1rem;width:20px;border-left:1px solid #ebecf2}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   ul.files-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.has-delete[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#888fb5}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   ul.files-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child:not(:last-child){border-bottom:none;border-bottom-right-radius:0;border-bottom-left-radius:0}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   ul.files-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:first-child):not(:last-child){border-radius:0;border-bottom:none}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   ul.files-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child:not(:first-child){border-top-right-radius:0;border-top-left-radius:0}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .endup[_ngcontent-%COMP%]{text-align:right;padding-top:1.5rem;margin-bottom:2rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .endup[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{min-width:4.5rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .endup[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .invisible[_ngcontent-%COMP%]{visibility:hidden}"]],data:{}});function W(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"ca-input-radio",[["class","uk-width-1-1 form-item"],["key","gender"]],[[2,"state-error",null],[2,"state",null]],null,null,w.b,w.a)),e.tb(1,114688,null,0,E.a,[I.a,O.j],{model:[0,"model"],key:[1,"key"],label:[2,"label"],list:[3,"list"]},null)],function(n,l){var t=l.component;n(l,1,0,t.patient,"gender",t.locale["details.form.patient.field.gender.title"],t.genderOptions)},function(n,l){n(l,0,0,e.Eb(l,1).hasError,e.Eb(l,1).hasState)})}function X(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"ca-input-radio",[["class","uk-width-1-1 form-item"],["key","gender"]],[[2,"state-error",null],[2,"state",null]],null,null,w.b,w.a)),e.tb(1,114688,null,0,E.a,[I.a,O.j],{model:[0,"model"],key:[1,"key"],label:[2,"label"],list:[3,"list"]},null)],function(n,l){var t=l.component;n(l,1,0,t.patient,"gender",t.locale["details.form.patient.field.gender.isChild.title"],t.genderChildOptions)},function(n,l){n(l,0,0,e.Eb(l,1).hasError,e.Eb(l,1).hasState)})}function nn(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"ca-input-text",[["class","uk-width-1-2 form-item"],["key","firstName"]],[[2,"state-error",null],[2,"state",null]],null,null,S.b,S.a)),e.tb(1,4308992,null,0,z.a,[I.a,O.j],{model:[0,"model"],key:[1,"key"],label:[2,"label"]},null),(n()(),e.ub(2,0,null,null,1,"ca-input-text",[["class","uk-width-1-2 form-item"],["key","lastName"]],[[2,"state-error",null],[2,"state",null]],null,null,S.b,S.a)),e.tb(3,4308992,null,0,z.a,[I.a,O.j],{model:[0,"model"],key:[1,"key"],label:[2,"label"]},null)],function(n,l){var t=l.component;n(l,1,0,t.patient,"firstName",t.locale["details.form.patient.field.firstName"]),n(l,3,0,t.patient,"lastName",t.locale["details.form.patient.field.lastName"])},function(n,l){n(l,0,0,e.Eb(l,1).hasError,e.Eb(l,1).hasState),n(l,2,0,e.Eb(l,3).hasError,e.Eb(l,3).hasState)})}function ln(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"ca-input-text",[["class","uk-width-1-2 form-item"],["key","firstName"]],[[2,"state-error",null],[2,"state",null]],null,null,S.b,S.a)),e.tb(1,4308992,null,0,z.a,[I.a,O.j],{model:[0,"model"],key:[1,"key"],label:[2,"label"]},null),(n()(),e.ub(2,0,null,null,1,"ca-input-text",[["class","uk-width-1-2 form-item"],["key","lastName"]],[[2,"state-error",null],[2,"state",null]],null,null,S.b,S.a)),e.tb(3,4308992,null,0,z.a,[I.a,O.j],{model:[0,"model"],key:[1,"key"],label:[2,"label"]},null),(n()(),e.ub(4,0,null,null,1,"ca-input-text",[["class","uk-width-1-2 form-item"],["key","parentFirstName"]],[[2,"state-error",null],[2,"state",null]],null,null,S.b,S.a)),e.tb(5,4308992,null,0,z.a,[I.a,O.j],{model:[0,"model"],key:[1,"key"],label:[2,"label"]},null),(n()(),e.ub(6,0,null,null,1,"ca-input-text",[["class","uk-width-1-2 form-item"],["key","parentLastName"]],[[2,"state-error",null],[2,"state",null]],null,null,S.b,S.a)),e.tb(7,4308992,null,0,z.a,[I.a,O.j],{model:[0,"model"],key:[1,"key"],label:[2,"label"]},null)],function(n,l){var t=l.component;n(l,1,0,t.patient,"firstName",t.locale["details.form.patient.field.isChild.firstName"]),n(l,3,0,t.patient,"lastName",t.locale["details.form.patient.field.isChild.lastName"]),n(l,5,0,t.patient,"parentFirstName",t.locale["details.form.patient.field.isChild.parent.firstName"]),n(l,7,0,t.patient,"parentLastName",t.locale["details.form.patient.field.isChild.parent.lastName"])},function(n,l){n(l,0,0,e.Eb(l,1).hasError,e.Eb(l,1).hasState),n(l,2,0,e.Eb(l,3).hasError,e.Eb(l,3).hasState),n(l,4,0,e.Eb(l,5).hasError,e.Eb(l,5).hasState),n(l,6,0,e.Eb(l,7).hasError,e.Eb(l,7).hasState)})}function tn(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,7,"li",[],null,null,null,null,null)),(n()(),e.ub(1,0,null,null,6,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==e.Eb(n,2).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&u),u},null,null)),e.tb(2,671744,null,0,m.p,[m.m,m.a,i.i],{routerLink:[0,"routerLink"]},null),e.Fb(3,3),e.Hb(4,{modal:0}),e.Hb(5,{outlets:0}),e.Fb(6,2),(n()(),e.ub(7,0,null,null,0,"img",[["class","uk-position-center"]],[[8,"src",4],[8,"title",0]],null,null,null,null))],function(n,l){n(l,2,0,n(l,6,0,"",n(l,5,0,n(l,4,0,n(l,3,0,"capture",l.context.$implicit.id,"edit")))))},function(n,l){n(l,1,0,e.Eb(l,2).target,e.Eb(l,2).href),n(l,7,0,l.context.$implicit.source,l.context.$implicit.description||l.context.$implicit.filename)})}function en(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,0,"span",[["class","uk-position-center"],["uk-spinner","ratio: .5"]],null,null,null,null,null))],null,null)}function un(n){return e.Ob(0,[e.Gb(0,i.e,[e.x]),(n()(),e.ub(1,0,null,null,68,"div",[["class","uk-flex scrollable-content"]],null,null,null,null,null)),(n()(),e.ub(2,0,null,null,67,"section",[["class","uk-width-expand"]],null,null,null,null,null)),(n()(),e.ub(3,0,null,null,38,"div",[["class","content"]],null,null,null,null,null)),(n()(),e.ub(4,0,null,null,12,"form",[["class","inline-edit"]],null,null,null,null,null)),(n()(),e.ub(5,0,null,null,11,"fieldset",[],null,null,null,null,null)),(n()(),e.ub(6,0,null,null,1,"legend",[],null,null,null,null,null)),(n()(),e.Mb(7,null,["",""])),(n()(),e.ub(8,0,null,null,4,"div",[["class","form-item readonly"]],null,null,null,null,null)),(n()(),e.ub(9,0,null,null,1,"label",[["for","input-date"]],null,null,null,null,null)),(n()(),e.Mb(10,null,["",""])),(n()(),e.ub(11,0,null,null,1,"input",[["class","uk-input ca-input-text"],["disabled",""],["id","input-date"],["name","input-date"],["type","text"]],[[8,"value",0]],null,null,null,null)),e.Ib(12,2),(n()(),e.ub(13,0,null,null,3,"div",[["class","form-item readonly"]],null,null,null,null,null)),(n()(),e.ub(14,0,null,null,1,"label",[["for","input-duration"]],null,null,null,null,null)),(n()(),e.Mb(15,null,["",""])),(n()(),e.ub(16,0,null,null,0,"input",[["class","uk-input ca-input-text"],["disabled",""],["id","input-duration"],["name","input-duration"],["type","text"]],[[8,"value",0]],null,null,null,null)),(n()(),e.ub(17,0,null,null,24,"form",[["class","inline-edit"]],null,null,null,null,null)),(n()(),e.ub(18,0,null,null,23,"fieldset",[],null,null,null,null,null)),(n()(),e.ub(19,0,null,null,3,"legend",[],null,null,null,null,null)),(n()(),e.Mb(20,null,[" "," "])),(n()(),e.ub(21,0,null,null,1,"ca-dropdown",[["class","uk-position-right ca-drapdown-small no-border ca-dropdown"]],null,[[null,"select"]],function(n,l,t){var e=!0;return"select"===l&&(e=!1!==n.component.onSelectIsChild(t)&&e),e},$.b,$.a)),e.tb(22,114688,null,0,T.a,[],{options:[0,"options"],value:[1,"value"]},{select:"select"}),(n()(),e.ub(23,0,null,null,16,"div",[["uk-grid",""]],null,null,null,null,null)),(n()(),e.lb(16777216,null,null,1,null,W)),e.tb(25,16384,null,0,i.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.lb(16777216,null,null,1,null,X)),e.tb(27,16384,null,0,i.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.lb(16777216,null,null,1,null,nn)),e.tb(29,16384,null,0,i.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.lb(16777216,null,null,1,null,ln)),e.tb(31,16384,null,0,i.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.ub(32,0,null,null,1,"ca-input-text",[["class","uk-width-1-2 form-item"],["key","email"]],[[2,"state-error",null],[2,"state",null]],null,null,S.b,S.a)),e.tb(33,4308992,null,0,z.a,[I.a,O.j],{model:[0,"model"],key:[1,"key"],label:[2,"label"]},null),(n()(),e.ub(34,0,null,null,1,"ca-input-mask",[["class","uk-width-1-2 form-item"],["key","phoneNumber"]],[[2,"state-error",null],[2,"state",null]],null,null,N.b,N.a)),e.tb(35,114688,null,0,F.a,[I.a,O.j],{model:[0,"model"],key:[1,"key"],label:[2,"label"],mask:[3,"mask"]},null),(n()(),e.ub(36,0,null,null,1,"ca-input-dropdown",[["class","uk-width-1-2 form-item"],["key","socialProtection"]],[[2,"state-error",null],[2,"state",null]],[[null,"valueChanges"]],function(n,l,t){var e=!0;return"valueChanges"===l&&(e=!1!==n.component.onSelectProtection(t)&&e),e},L.b,L.a)),e.tb(37,114688,null,0,j.a,[I.a,O.j],{model:[0,"model"],key:[1,"key"],label:[2,"label"],list:[3,"list"]},{valueChanges:"valueChanges"}),(n()(),e.ub(38,0,null,null,1,"ca-input-mask",[["class","uk-width-1-2 form-item"],["key","healthInsuranceNumber"]],[[2,"state-error",null],[2,"state",null]],null,null,N.b,N.a)),e.tb(39,114688,null,0,F.a,[I.a,O.j],{model:[0,"model"],key:[1,"key"],label:[2,"label"],mask:[3,"mask"]},null),(n()(),e.ub(40,0,null,null,1,"ca-input-checkbox",[["class","form-item"],["key","permanentPracitioner"]],[[2,"state-error",null],[2,"state",null]],null,null,H.b,H.a)),e.tb(41,114688,null,0,A.a,[I.a,O.j],{model:[0,"model"],key:[1,"key"],label:[2,"label"]},null),(n()(),e.ub(42,0,null,null,27,"div",[["class","content"]],null,null,null,null,null)),(n()(),e.ub(43,0,null,null,26,"form",[["class","readonly"]],null,null,null,null,null)),(n()(),e.ub(44,0,null,null,19,"fieldset",[["class","report"]],null,null,null,null,null)),(n()(),e.ub(45,0,null,null,1,"legend",[],null,null,null,null,null)),(n()(),e.Mb(46,null,["",""])),(n()(),e.ub(47,0,null,null,1,"ca-input-textarea",[["class","form-item"],["key","notes"]],[[2,"state-error",null],[2,"state",null]],null,null,Q.b,Q.a)),e.tb(48,114688,null,0,K.a,[I.a,O.j,v.c],{model:[0,"model"],key:[1,"key"],label:[2,"label"]},null),(n()(),e.ub(49,0,null,null,8,"div",[["class","form-item screenshots"]],null,null,null,null,null)),(n()(),e.ub(50,0,null,null,3,"label",[],null,null,null,null,null)),(n()(),e.Mb(51,null,[""," capture",""])),e.Gb(131072,i.b,[e.i]),e.Gb(131072,i.b,[e.i]),(n()(),e.ub(54,0,null,null,3,"ul",[],null,null,null,null,null)),(n()(),e.lb(16777216,null,null,2,null,tn)),e.tb(56,278528,null,0,i.k,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),e.Gb(131072,i.b,[e.i]),(n()(),e.ub(58,0,null,null,5,"div",[["class","form-item files"]],null,null,null,null,null)),(n()(),e.ub(59,0,null,null,1,"label",[["for","input-file-shared"]],null,null,null,null,null)),(n()(),e.Mb(60,null,["",""])),(n()(),e.ub(61,0,null,null,0,"input",[["disabled",""],["id","input-file-shared"],["name","input-file-shared"],["type","text"]],[[8,"value",0]],null,null,null,null)),(n()(),e.ub(62,0,null,null,1,"ca-consultation-file-list",[],null,[[null,"removeFile"]],function(n,l,t){var e=!0;return"removeFile"===l&&(e=!1!==n.component.removeFile(t)&&e),e},G.b,G.a)),e.tb(63,49152,null,0,R.a,[m.m],{model:[0,"model"]},{removeFile:"removeFile"}),(n()(),e.ub(64,0,null,null,5,"div",[["class","endup"]],null,null,null,null,null)),(n()(),e.ub(65,0,null,null,4,"button",[["class","ca-button ca-button-primary"],["type","button"]],[[8,"disabled",0],[2,"disabled",null]],[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.endCall()&&e),e},null,null)),(n()(),e.ub(66,0,null,null,1,"span",[],[[2,"invisible",null]],null,null,null,null)),(n()(),e.Mb(67,null,["",""])),(n()(),e.lb(16777216,null,null,1,null,en)),e.tb(69,16384,null,0,i.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=l.component;n(l,22,0,t.isChildOptions,t.isChildOptions[t.patient.isChild?1:0]),n(l,25,0,!t.patient.isChild),n(l,27,0,t.patient.isChild),n(l,29,0,!t.patient.isChild),n(l,31,0,t.patient.isChild),n(l,33,0,t.patient,"email",t.patient.isChild?t.locale["details.form.patient.field.isChild.email"]:t.locale["details.form.patient.field.email"]),n(l,35,0,t.patient,"phoneNumber",t.locale["details.form.patient.field.phoneNumber"],t.cc+"(\\0) 0 00 00 00 00"),n(l,37,0,t.patient,"socialProtection",t.locale["details.form.patient.field.socialProtection"],t.protectionOptions),n(l,39,0,t.patient,"healthInsuranceNumber",t.locale["details.form.patient.field.healthInsuranceNumber"],"0 00 00 00 000 000 00"),n(l,41,0,t.rendezvous,"permanentPracitioner",e.wb(2,"Le Dr. ",t.user.first_name," ",t.user.last_name," est le m\xe9decin traitant du patient")),n(l,48,0,t.rendezvous,"notes",t.locale["details.form.report.notes.label"]),n(l,56,0,e.Nb(l,56,0,e.Eb(l,57).transform(t.captures$))),n(l,63,0,t.file),n(l,69,0,t.isFinishing)},function(n,l){var t,u,o=l.component;n(l,7,0,o.locale["details.form.tele.title"]),n(l,10,0,o.locale["details.form.tele.field.date"]),n(l,11,0,e.Nb(l,11,0,n(l,12,0,e.Eb(l,0),null==o.rendezvous?null:o.rendezvous.date,"d MMMM, y, H:mm"))),n(l,15,0,o.locale["details.form.tele.field.duration"]),n(l,16,0,(null==o.rendezvous?null:o.rendezvous.duration)+" min"),n(l,20,0,o.locale["details.form.patient.title"]),n(l,32,0,e.Eb(l,33).hasError,e.Eb(l,33).hasState),n(l,34,0,e.Eb(l,35).hasError,e.Eb(l,35).hasState),n(l,36,0,e.Eb(l,37).hasError,e.Eb(l,37).hasState),n(l,38,0,e.Eb(l,39).hasError,e.Eb(l,39).hasState),n(l,40,0,e.Eb(l,41).hasError,e.Eb(l,41).hasState),n(l,46,0,o.locale["details.form.report.title"]),n(l,47,0,e.Eb(l,48).hasError,e.Eb(l,48).hasState),n(l,51,0,null==(t=e.Nb(l,51,0,e.Eb(l,52).transform(o.captures$)))?null:t.length,(null==(u=e.Nb(l,51,1,e.Eb(l,53).transform(o.captures$)))?null:u.length)>1?"s":""),n(l,60,0,o.locale["details.form.report.sharefiles"]),n(l,61,0,e.wb(1,"",o.file.length," Documents")),n(l,65,0,o.isFinishing,o.isFinishing),n(l,66,0,o.isFinishing),n(l,67,0,o.locale["details.button.finish"])})}var on=t("fNgX"),an=t("Hf/j");D.d.add(V.E,V.C);var sn=function(){function n(n,l){this.activateRoute=n,this.store=l,this.locale=s.a}return n.prototype.ngOnInit=function(){this.rendezvous=this.activateRoute.snapshot.data.rendezvous,localStorage.removeItem("preview")},n.prototype.startVideo=function(){var n=new Date;this.rendezvous.startedAt=n.getTime(),this.store.save("rendezvous",this.rendezvous).subscribe()},n}(),rn=e.sb({encapsulation:0,styles:[["[_nghost-%COMP%]   .popup[_ngcontent-%COMP%]{margin-top:-30%;width:100%;max-width:580px;border-radius:5px;box-shadow:0 2px 5px 0 rgba(0,40,176,.1);background-color:#fff;border:1px solid #dfe0e6}[_nghost-%COMP%]   .popup[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]{padding:3rem}[_nghost-%COMP%]   .popup[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-style:normal;font-stretch:normal;line-height:normal;letter-spacing:normal;font-weight:700;font-size:1.25rem}[_nghost-%COMP%]   .popup[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-bottom:0}[_nghost-%COMP%]   .popup[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{margin-right:1rem}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]{width:330px;background:#fff;border-left:1px solid #ebecf2}"]],data:{}});function cn(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,13,"div",[["class","uk-height-1-1 uk-flex uk-flex-column uk-flex-middle uk-flex-center"]],null,null,null,null,null)),(n()(),e.ub(1,0,null,null,12,"div",[["class","popup uk-text-center"]],null,null,null,null,null)),(n()(),e.ub(2,0,null,null,11,"div",[["class","inner"]],null,null,null,null,null)),(n()(),e.ub(3,0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),e.Mb(4,null,["",""])),(n()(),e.ub(5,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e.Mb(6,null,["",""])),(n()(),e.ub(7,0,null,null,6,"a",[["class","ca-button ca-button-primary uk-align-center"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,t){var u=!0,o=n.component;return"click"===l&&(u=!1!==e.Eb(n,8).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&u),"click"===l&&(u=!1!==o.startVideo()&&u),u},null,null)),e.tb(8,671744,null,0,m.p,[m.m,m.a,i.i],{routerLink:[0,"routerLink"]},null),e.Fb(9,2),(n()(),e.ub(10,0,null,null,2,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,on.b,on.a)),e.tb(11,573440,null,0,an.a,[v.c,an.b],{iconProp:[0,"iconProp"]},null),e.Fb(12,2),(n()(),e.Mb(13,null,[" ",""]))],function(n,l){n(l,8,0,n(l,9,0,"..","video")),n(l,11,0,n(l,12,0,"fas","video"))},function(n,l){var t=l.component;n(l,4,0,t.locale["start.popup.title"]),n(l,6,0,t.locale["start.popup.content"]),n(l,7,0,e.Eb(l,8).target,e.Eb(l,8).href),n(l,10,0,e.Eb(l,11).renderedIconHTML),n(l,13,0,t.locale["start.popup.button"])})}function dn(n,l,t){n.forEach(function(n){l.appendChild(t,n.attach())})}var bn=t("12c2"),gn=function(){function n(n,l,t,e){this.video=n,this.el=l,this.renderer=t,this.deviceService=e,this.show="local"}return n.prototype.ngOnInit=function(){var n=this;"local"===this.show&&this.video.localParticipant$.subscribe(function(l){dn(l,n.renderer,n.el.nativeElement)}),"remote"===this.show&&this.video.remoteParticipants$.subscribe(function(l){if(l.length>0){var t=l[0].kind,e=l.filter(function(n){return n.kind===t})[0],u=Array.from(n.video.room.participants.values())[0];("audio"===t?u.audioTracks.values():u.videoTracks.values()).next().value.trackSid===e.sid&&dn(l,n.renderer,n.el.nativeElement)}})},n.prototype.attackVideo=function(){var n=this;this.deviceService.getConfig().subscribe(function(l){navigator.mediaDevices.getUserMedia({video:!!l.videoinput&&{deviceId:l.videoinput.deviceId},audio:!!l.audiooutput&&{deviceId:l.audiooutput.deviceId}}).then(function(l){n.el.nativeElement.children[1].srcObject=l},function(n){console.log("User rejected camera capture permissions",n)})})},n}(),pn=e.sb({encapsulation:0,styles:[["[_nghost-%COMP%]:before, video   [_nghost-%COMP%]:after{width:100%}"]],data:{}});function hn(n){return e.Ob(0,[],null,null)}var mn=t("xbQG"),fn=t("PWs5"),Cn=t("xXU7"),vn=t("67Y/"),On=t("p0Sj"),Mn=t("wd/R");D.d.add(V.E,V.C),D.d.add(V.E,V.D);var _n=function(){function n(n,l,t,e,u,o){this.video=n,this.router=l,this.route=t,this.toastr=e,this.store=u,this.handleService=o,this.locale=s.a,this.videoEnabled=this.video.videoEnabled,this.audioEnabled=this.video.audioEnabled,this.isLoadVideo=!1,this.time="00:00",this.enabledEndcall=!1,this.setupAccount=!1,this.dismissState={ctrlZ:!0,text:!0},this.enableReportButton=!0,this.streamingState$=this.video.state$}return n.prototype.ngOnInit=function(){var n=this;this.rendezvous=this.route.snapshot.data.rendezvous,this.route.paramMap.subscribe(function(l){"start"===l.get("action")||n.enabledEndcall||n.video.connect(n.rendezvous.id).subscribe(),n.enabledEndcall="start"!==l.get("action")}),this.actionEnabled$=this.video.remoteParticipants$.pipe(Object(vn.a)(function(n){return n&&n[0]})),this.actionEnabled$.subscribe(),"paid"===this.rendezvous.payment_status&&this.handleService.setSuccessPayment(!0),this.handleService.setAmountPayment(this.rendezvous.payment_amount),this.handleService.getSuccessPayment().subscribe(function(l){return n.successPayment=l}),this.handleService.getAmountPayment().subscribe(function(l){return n.rendezvous.payment_amount=l}),this.countTime(),this.listenPatient(),this.connectStripe()},n.prototype.connectStripe=function(){var n=this,l={access_token:JSON.parse(localStorage.getItem("credentials")).access_token,values:{redirect_uri:window.location.protocol+"//"+window.location.host+"/settings/receipts"}};this.store.trigger("stripe","generateOAuth",l).subscribe(function(l){n.setupAccount=!1},function(l){n.setupAccount=!0})},n.prototype.listenPatient=function(){var n=this;this.store.listenOne("rendezvous",this.rendezvous.id).subscribe(function(l){"request-download-file"===l.getVerb()&&l.getId()===n.route.snapshot.data.rendezvous.id&&(localStorage.setItem("modal:sharefiles",n.route.snapshot.data.rendezvous.patient.firstName),n.handleService.setFileList(l.getData()),n.router.navigate(["",{outlets:{modal:"receive-file"}}]))})},n.prototype.countTime=function(){var n=this;this.streamingState$.subscribe(function(l){if("streaming"===l){var t=Mn(n.rendezvous.startedAt);n.timer$=Object(Cn.a)(1e3).pipe(Object(On.a)(0),Object(vn.a)(function(){return n.duration=Mn.duration(Mn().diff(t)),n.duration.minutes()===n.rendezvous.duration&&0===n.duration.seconds()&&n.toastr.warning("The teleconsultation has just exceeded the duration of the appointment.","Warning"),n.duration.minutes()+":"+(n.duration.seconds()<=9?"0"+n.duration.seconds():n.duration.seconds())})).subscribe(function(l){return n.time=l})}else n.timer$&&n.timer$.unsubscribe()})},n.prototype.notReady=function(n){n.preventDefault(),this.toastr.info("Coming soon","Info",{disableTimeOut:!0})},n.prototype.saveRenId=function(){localStorage.setItem("modal:sharefiles",this.rendezvous.id)},n.prototype.ngOnDestroy=function(){this.timer$&&this.timer$.unsubscribe()},n.prototype.onPayment=function(){this.router.navigate(this.setupAccount?["/",{outlets:{modal:["payment"]}}]:["/",{outlets:{modal:["warning-payment"]}}])},n.prototype.dismissAlert=function(n){this.dismissState[n]=!1},n}(),Pn=e.sb({encapsulation:0,styles:[["[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]{height:calc(100vh - 322px)}[_nghost-%COMP%]   div.actions[_ngcontent-%COMP%]{margin-top:2rem}[_nghost-%COMP%]   div.actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], [_nghost-%COMP%]   div.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#f7f8fa;border:1px solid #ebecf2;padding:1.85rem;display:block;border-radius:5px;text-align:center}[_nghost-%COMP%]   div.actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], [_nghost-%COMP%]   div.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:25px;height:25px}[_nghost-%COMP%]   div.actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not([disabled]), [_nghost-%COMP%]   div.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]){cursor:pointer;pointer-events:all}[_nghost-%COMP%]   div.actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not([disabled]):hover, [_nghost-%COMP%]   div.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]):hover{box-shadow:0 5px 10px 0 rgba(0,40,176,.1);border-color:#dfe0e6}[_nghost-%COMP%]   div.actions[_ngcontent-%COMP%]   a[disabled][_ngcontent-%COMP%], [_nghost-%COMP%]   div.actions[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{opacity:.5}[_nghost-%COMP%]   form.notes[_ngcontent-%COMP%]{margin:0 1rem;overflow-y:auto;max-height:calc(100vh - 70px)}[_nghost-%COMP%]   form.notes[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:uppercase;line-height:1.57rem}[_nghost-%COMP%]   form.notes[_ngcontent-%COMP%]   .textarea[_ngcontent-%COMP%]{font-size:.9rem;line-height:1.4rem;border:none;padding:0;min-height:200px;height:auto;overflow-x:hidden}[_nghost-%COMP%]   div.timer[_ngcontent-%COMP%]{background-image:linear-gradient(126deg,#45d2ab,#25af9b);padding:1rem;margin-top:auto;position:relative}[_nghost-%COMP%]   div.timer[_ngcontent-%COMP%]   progress[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;padding:0;top:0;left:0;border-radius:0;margin:0;border:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:#2cb69e}[_nghost-%COMP%]   div.timer[_ngcontent-%COMP%]   progress[_ngcontent-%COMP%]::-webkit-progress-value{background:#53e1cc;border-radius:0}[_nghost-%COMP%]   div.timer[_ngcontent-%COMP%]   progress[_ngcontent-%COMP%]::-moz-progress-bar{background:#53e1cc;border-radius:0}[_nghost-%COMP%]   div.timer[_ngcontent-%COMP%]   progress[_ngcontent-%COMP%]::-webkit-progress-bar{background:#2cb69e;border-radius:0}[_nghost-%COMP%]   div.timer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{opacity:.7;font-size:1.375rem;font-weight:700;line-height:2rem;color:#353b50}[_nghost-%COMP%]   div.timer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], [_nghost-%COMP%]   div.timer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:right;background-color:#fff;border-radius:5px;padding:.5rem 1rem;font-style:normal;font-stretch:normal;line-height:normal;letter-spacing:normal;font-weight:700;color:#21a68b;font-size:.9rem;border:none}[_nghost-%COMP%]   div.timer[_ngcontent-%COMP%]   a.muted[_ngcontent-%COMP%], [_nghost-%COMP%]   div.timer[_ngcontent-%COMP%]   button.muted[_ngcontent-%COMP%]{opacity:.8}[_nghost-%COMP%]   div.timer[_ngcontent-%COMP%]   a.muted[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   div.timer[_ngcontent-%COMP%]   button.muted[_ngcontent-%COMP%]:hover{cursor:default}[_nghost-%COMP%]   .ca-guidance[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;margin-bottom:5px}[_nghost-%COMP%]   .ca-guidance[_ngcontent-%COMP%]   .ca-guidance__wrapper[_ngcontent-%COMP%]{border-radius:5px;background:#ebecf2;margin-bottom:10px;margin-top:5px;padding-right:19px}[_nghost-%COMP%]   .ca-guidance[_ngcontent-%COMP%]   .ca-guidance__dismiss[_ngcontent-%COMP%]{position:absolute;top:7.5px;right:7.5px;background:url(/assets/images/dismiss.svg);color:#353b50!important;width:7.5px;height:10px;cursor:pointer;transition:color .1s ease-in-out,opacity .1s ease-in-out}[_nghost-%COMP%]   .ca-guidance[_ngcontent-%COMP%]   .ca-guidance__content[_ngcontent-%COMP%]{font-size:12px;font-family:silkaregularwebfont;line-height:1.83;letter-spacing:normal;color:#353b50;margin-top:0}[_nghost-%COMP%]   .ca-guidance[_ngcontent-%COMP%]   .ca-guidance--bold[_ngcontent-%COMP%]{font-weight:700;font-size:12px}[_nghost-%COMP%]   .ca-guidance[_ngcontent-%COMP%]   .ca-ctrl[_ngcontent-%COMP%]{display:inline;vertical-align:middle}[_nghost-%COMP%]   .ca-guidance[_ngcontent-%COMP%]   .ca-guidance--v-mid[_ngcontent-%COMP%]{vertical-align:middle}[_nghost-%COMP%]   .ca--display-none[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .ca--margin--top-10[_ngcontent-%COMP%]{margin-top:10px}[_nghost-%COMP%]   .ca--margin--bottom-10[_ngcontent-%COMP%]{margin-bottom:10px}"]],data:{}});function kn(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,0,"progress",[["class","progress uk-progress"]],[[8,"value",0],[8,"max",0]],null,null,null,null))],null,function(n,l){var t=l.component;n(l,0,0,e.wb(1,"",t.duration.seconds()+60*t.duration.minutes(),""),e.wb(1,"",60*t.rendezvous.duration,""))})}function yn(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"button",[["class","muted uk-inline uk-button uk-button-default uk-button-small"]],null,null,null,null,null)),(n()(),e.Mb(1,null,["",""]))],null,function(n,l){n(l,1,0,l.component.locale["-components.sidebar.timer.button"])})}function xn(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,4,"a",[["class","uk-inline uk-button uk-button-default uk-button-small"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==e.Eb(n,1).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&u),u},null,null)),e.tb(1,671744,null,0,m.p,[m.m,m.a,i.i],{routerLink:[0,"routerLink"]},null),e.Fb(2,2),e.Fb(3,1),(n()(),e.Mb(4,null,["",""]))],function(n,l){n(l,1,0,l.component.enabledEndcall?n(l,2,0,"..","details"):n(l,3,0,"."))},function(n,l){var t=l.component;n(l,0,0,e.Eb(l,1).target,e.Eb(l,1).href),n(l,4,0,t.locale["-components.sidebar.timer.button"])})}function wn(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,60,"div",[["class","uk-flex uk-flex-column sidebar"],["uk-height-viewport","offset-top: true"]],null,null,null,null,null)),(n()(),e.ub(1,0,null,null,25,"div",[["class","actions"]],null,null,null,null,null)),(n()(),e.ub(2,0,null,null,24,"div",[["class","uk-flex uk-flex-row uk-flex-center uk-grid-small"],["uk-grid",""]],null,null,null,null,null)),(n()(),e.ub(3,0,null,null,8,"div",[],null,null,null,null,null)),(n()(),e.ub(4,0,null,null,7,"button",[["uk-tooltip","title: Capture photo; offset: -10; delay: 300"]],[[8,"disabled",0]],[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==e.Eb(n,5).onClick()&&u),u},null,null)),e.tb(5,16384,null,0,m.n,[m.m,m.a,[8,null],e.H,e.l],{routerLink:[0,"routerLink"]},null),e.Fb(6,1),e.Hb(7,{modal:0}),e.Hb(8,{outlets:0}),e.Fb(9,2),e.Gb(131072,i.b,[e.i]),(n()(),e.ub(11,0,null,null,0,"img",[["src","assets/images/camera.svg"]],null,null,null,null,null)),(n()(),e.ub(12,0,null,null,7,"div",[],null,null,null,null,null)),(n()(),e.ub(13,0,null,null,6,"button",[["queryParamsHandling","preserve"],["uk-tooltip","title: Partage de fichier; offset: -10; delay: 300"]],null,[[null,"click"]],function(n,l,t){var u=!0,o=n.component;return"click"===l&&(u=!1!==e.Eb(n,14).onClick()&&u),"click"===l&&(u=!1!==o.saveRenId()&&u),u},null,null)),e.tb(14,16384,null,0,m.n,[m.m,m.a,[8,null],e.H,e.l],{queryParamsHandling:[0,"queryParamsHandling"],routerLink:[1,"routerLink"]},null),e.Fb(15,1),e.Hb(16,{modal:0}),e.Hb(17,{outlets:0}),e.Fb(18,2),(n()(),e.ub(19,0,null,null,0,"img",[["src","assets/images/file.svg"]],null,null,null,null,null)),(n()(),e.ub(20,0,null,null,3,"div",[],null,null,null,null,null)),(n()(),e.ub(21,0,null,null,2,"button",[["queryParamsHandling","preserve"],["uk-tooltip","title: Demander le paiement; offset: -10; delay: 300"]],[[8,"disabled",0]],[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.onPayment()&&e),e},null,null)),e.Gb(131072,i.b,[e.i]),(n()(),e.ub(23,0,null,null,0,"img",[["src","assets/images/credit.svg"]],null,null,null,null,null)),(n()(),e.ub(24,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),e.ub(25,0,null,null,1,"button",[["uk-tooltip","title: Planifier un rendez-vous; offset: -10; delay: 300"]],null,null,null,null,null)),(n()(),e.ub(26,0,null,null,0,"img",[["src","assets/images/add.svg"]],null,null,null,null,null)),(n()(),e.ub(27,0,null,null,0,"hr",[],null,null,null,null,null)),(n()(),e.ub(28,0,null,null,2,"form",[["class","notes"]],null,null,null,null,null)),(n()(),e.ub(29,0,null,null,1,"ca-input-textarea",[["class","form-item"],["key","notes"]],[[2,"state-error",null],[2,"state",null]],null,null,Q.b,Q.a)),e.tb(30,114688,null,0,K.a,[I.a,O.j,v.c],{model:[0,"model"],key:[1,"key"],placeholder:[2,"placeholder"],label:[3,"label"]},null),(n()(),e.ub(31,0,null,null,20,"div",[["class","ca-guidance"]],null,null,null,null,null)),(n()(),e.ub(32,0,null,null,11,"div",[["class","uk-alert-primary uk-alert ca-guidance__wrapper ca-guidance__wrapper--ctrl"]],null,null,null,null,null)),e.tb(33,278528,null,0,i.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(34,{"ca--display-none":0}),(n()(),e.ub(35,0,null,null,0,"span",[["class","ca-guidance__dismiss"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.dismissAlert("ctrlZ")&&e),e},null,null)),(n()(),e.ub(36,0,null,null,7,"p",[["class","ca-guidance__content"]],null,null,null,null,null)),(n()(),e.ub(37,0,null,null,0,"img",[["class","ca-ctrl"],["src","assets/images/ctrl.svg"]],null,null,null,null,null)),(n()(),e.ub(38,0,null,null,1,"span",[["class","ca-guidance--bold ca-guidance--v-mid"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\xa0+\xa0"])),(n()(),e.ub(40,0,null,null,0,"img",[["class","ca-ctrl"],["src","assets/images/Z.svg"]],null,null,null,null,null)),(n()(),e.Mb(-1,null,["\xa0\xa0"])),(n()(),e.ub(42,0,null,null,1,"span",[["class","ca-guidance--bold ca-guidance--v-mid"]],null,null,null,null,null)),(n()(),e.Mb(43,null,["",""])),(n()(),e.ub(44,0,null,null,7,"div",[["class","uk-alert-primary uk-alert ca-guidance__wrapper"]],null,null,null,null,null)),e.tb(45,278528,null,0,i.j,[e.v,e.w,e.l,e.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Hb(46,{"ca--display-none":0}),(n()(),e.ub(47,0,null,null,0,"span",[["class","ca-guidance__dismiss"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.dismissAlert("text")&&e),e},null,null)),(n()(),e.ub(48,0,null,null,3,"p",[["class","ca-guidance__content"]],null,null,null,null,null)),(n()(),e.Mb(49,null,[""," "])),(n()(),e.ub(50,0,null,null,1,"span",[["class","ca-guidance--bold"]],null,null,null,null,null)),(n()(),e.Mb(51,null,["",""])),(n()(),e.ub(52,0,null,null,8,"div",[["class","timer"]],null,null,null,null,null)),(n()(),e.lb(16777216,null,null,1,null,kn)),e.tb(54,16384,null,0,i.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.ub(55,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Mb(56,null,["",""])),(n()(),e.lb(16777216,null,null,1,null,yn)),e.tb(58,16384,null,0,i.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.lb(16777216,null,null,1,null,xn)),e.tb(60,16384,null,0,i.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=l.component;n(l,5,0,n(l,9,0,"/",n(l,8,0,n(l,7,0,n(l,6,0,"capture"))))),n(l,14,0,"preserve",n(l,18,0,"/",n(l,17,0,n(l,16,0,n(l,15,0,"sharefiles"))))),n(l,30,0,t.rendezvous,"notes",t.locale["-components.sidebar.notes.textarea.placeholder"],t.locale["-components.sidebar.notes.label"]),n(l,33,0,"uk-alert-primary uk-alert ca-guidance__wrapper ca-guidance__wrapper--ctrl",n(l,34,0,!t.dismissState.ctrlZ)),n(l,45,0,"uk-alert-primary uk-alert ca-guidance__wrapper",n(l,46,0,!t.dismissState.text)),n(l,54,0,t.duration),n(l,58,0,!t.enableReportButton),n(l,60,0,t.enableReportButton)},function(n,l){var t=l.component;n(l,4,0,!e.Nb(l,4,0,e.Eb(l,10).transform(t.actionEnabled$))),n(l,21,0,!e.Nb(l,21,0,e.Eb(l,22).transform(t.actionEnabled$))||t.successPayment&&t.rendezvous.payment_amount>0),n(l,29,0,e.Eb(l,30).hasError,e.Eb(l,30).hasState),n(l,43,0,t.locale["-components.sidebar.guidance.ctrlZ"]),n(l,49,0,t.locale["-components.sidebar.guidance.text"]),n(l,51,0,t.locale["-components.sidebar.guidance.text.bold"]),n(l,56,0,t.time)})}var En={"video.label":"Vid\xe9o","messages.label":"Messages","details.label":"D\xe9tails"},In=function(){function n(n,l,t,e,u,o,i){this.route=n,this.video=l,this.toastr=t,this.store=e,this.messagesService=u,this.handleService=o,this.router=i,this.locale=En,this.isActived=!1,this.isNewMessage=!1,this.listMessage=[],this.videoEnabled=this.video.videoEnabled,this.audioEnabled=this.video.audioEnabled}return n.prototype.ngOnInit=function(){var n=this;this.patient=this.route.snapshot.data.patient,this.rendezvous=this.route.snapshot.data.rendezvous,this.messagesService.incomingMessages$.subscribe(function(l){l&&-1===n.router.url.indexOf("messages")&&l.author===n.patient.id&&(n.isNewMessage=!0)}),this.handleService.setRendezvous(this.rendezvous),this.route.paramMap.subscribe(function(l){n.tab=l.get("action"),"start"===n.tab||n.isActived||n.store.trigger("rendezvous","practitionerJoinConsultation",{rendezvous_id:n.rendezvous.id}).subscribe(function(){return n.isActived=!0}),"messages"===n.tab&&(n.isNewMessage=!1)}),this.state$=this.video.state$},n.prototype.toggleVideo=function(n){n.preventDefault(),this.videoEnabled=!this.videoEnabled,this.video.toggleLocalVideo()},n.prototype.toggleAudio=function(n){n.preventDefault(),this.audioEnabled=!this.audioEnabled,this.video.toggleLocalAudio()},n}(),Sn=e.sb({encapsulation:0,styles:[['[_nghost-%COMP%]{display:block;position:relative;background:#fff}[_nghost-%COMP%]   .uk-width-1-1[_ngcontent-%COMP%]{border-bottom:2px solid #56e0c4}[_nghost-%COMP%]   nav[_ngcontent-%COMP%]{background:#fff;margin:auto;max-width:940px;padding:0 1rem}[_nghost-%COMP%]   nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .newMessage[_ngcontent-%COMP%]{width:8px;height:8px;position:absolute;background:#56e0c4;border-radius:100%;top:43%;right:0}[_nghost-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-transform:none;color:#353b50}[_nghost-%COMP%]   nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{font-weight:700}[_nghost-%COMP%]   nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]::before{content:"";border-bottom:3px solid #56e0c4;position:absolute;width:1.5rem;bottom:0}[_nghost-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child{margin-right:3rem}[_nghost-%COMP%]   nav[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:700;font-style:normal;font-stretch:normal;line-height:normal;letter-spacing:normal;padding:1rem 0}[_nghost-%COMP%]   nav[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.7rem;font-weight:500;font-style:normal;font-stretch:normal;letter-spacing:normal;line-height:1rem;color:#adaeb3;text-transform:uppercase;display:block}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]{width:320px;background:#fff;border-left:1px solid #ebecf2}[_nghost-%COMP%]   div.video-audio-control[_ngcontent-%COMP%]{position:relative;height:240px;overflow:hidden}[_nghost-%COMP%]   div.video-audio-control[_ngcontent-%COMP%]   .background-sidebar-video[_ngcontent-%COMP%]{z-index:0;position:absolute;height:240px;width:320px}[_nghost-%COMP%]   div.video-audio-control[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{position:absolute;right:1.5rem;bottom:1rem;z-index:3}[_nghost-%COMP%]   div.video-audio-control[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;margin:0 .4rem}[_nghost-%COMP%]   div.video-audio-control[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], [_nghost-%COMP%]   div.video-audio-control[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#fff;width:2.5rem;height:2.5rem;display:block;border-radius:50%;text-align:center;box-shadow:0 5px 10px 0 rgba(0,0,0,.4);font-size:1.1rem;color:#56e0c4}[_nghost-%COMP%]   div.video-audio-control[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   div.video-audio-control[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{padding-top:8px;margin-left:3px;display:block;font-size:1.2rem}[_nghost-%COMP%]   div.video-audio-control[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .iconDisabled[_ngcontent-%COMP%], [_nghost-%COMP%]   div.video-audio-control[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .iconDisabled[_ngcontent-%COMP%]{color:#e35555}[_nghost-%COMP%]   div.video-audio-control[_ngcontent-%COMP%]   .video-preview[_ngcontent-%COMP%]{width:320px;height:240px;position:absolute}[_nghost-%COMP%]   div.video-audio-control[_ngcontent-%COMP%]   .video-thumbnail[_ngcontent-%COMP%]{width:75px;height:40px;overflow:hidden;position:absolute;bottom:1rem;left:1rem;outline:#fff solid 2px;z-index:3}[_nghost-%COMP%]   div.video-audio-control[_ngcontent-%COMP%]   .video-large[_ngcontent-%COMP%]{position:absolute}[_nghost-%COMP%]   .local-video[_ngcontent-%COMP%]{position:absolute;top:82px;right:0;width:320px;z-index:2}']],data:{}});function zn(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,0,"span",[["class","newMessage"]],null,null,null,null,null))],null,null)}function $n(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"ca-consultation-video",[],null,null,null,h,c)),e.tb(1,114688,null,0,r,[a.a],null,null)],function(n,l){n(l,1,0)},null)}function Tn(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"ca-consultation-messages",[["class","uk-height-1-1"]],null,null,null,x,M)),e.tb(1,114688,null,0,C,[m.a,f.a,v.c,O.j],null,null)],function(n,l){n(l,1,0)},null)}function Nn(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"ca-consultation-details",[["class","ca-consultation"]],null,null,null,un,U)),e.tb(1,114688,null,0,B,[m.a,I.a,m.m,O.j,a.a,J.a],null,null)],function(n,l){n(l,1,0)},null)}function Fn(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"ca-consultation-start",[],null,null,null,cn,rn)),e.tb(1,114688,null,0,sn,[m.a,I.a],null,null)],function(n,l){n(l,1,0)},null)}function Ln(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,2,"div",[],[[8,"className",0]],null,null,null,null)),(n()(),e.ub(1,0,null,null,1,"ca-consultation-component-video",[["show","remote"]],null,null,null,hn,pn)),e.tb(2,114688,null,0,gn,[a.a,e.l,e.H,bn.a],{show:[0,"show"]},null)],function(n,l){n(l,2,0,"remote")},function(n,l){n(l,0,0,"video"===l.component.tab?"uk-height-1-1 uk-flex uk-flex-column uk-flex-middle uk-flex-center":"local-video")})}function jn(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,28,"div",[["class","uk-width-1-1"]],null,null,null,null,null)),(n()(),e.ub(1,0,null,null,27,"nav",[["class","uk-navbar-container"],["uk-navbar",""]],null,null,null,null,null)),(n()(),e.ub(2,0,null,null,23,"div",[["class","uk-navbar-left"]],null,null,null,null,null)),(n()(),e.ub(3,0,null,null,22,"ul",[["class","uk-navbar-nav"]],null,null,null,null,null)),(n()(),e.ub(4,0,null,null,4,"li",[],null,null,null,null,null)),(n()(),e.ub(5,0,null,null,3,"h1",[],null,null,null,null,null)),(n()(),e.ub(6,0,null,null,1,"small",[],null,null,null,null,null)),(n()(),e.Mb(-1,null,["Patient"])),(n()(),e.Mb(8,null,[" "," "," "])),(n()(),e.ub(9,0,null,null,4,"li",[],null,null,null,null,null)),(n()(),e.ub(10,0,null,null,3,"a",[],[[2,"active",null],[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==e.Eb(n,11).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&u),u},null,null)),e.tb(11,671744,null,0,m.p,[m.m,m.a,i.i],{routerLink:[0,"routerLink"]},null),e.Fb(12,1),(n()(),e.Mb(13,null,["",""])),(n()(),e.ub(14,0,null,null,6,"li",[],null,null,null,null,null)),(n()(),e.lb(16777216,null,null,1,null,zn)),e.tb(16,16384,null,0,i.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(n()(),e.ub(17,0,null,null,3,"a",[],[[2,"active",null],[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==e.Eb(n,18).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&u),u},null,null)),e.tb(18,671744,null,0,m.p,[m.m,m.a,i.i],{routerLink:[0,"routerLink"]},null),e.Fb(19,1),(n()(),e.Mb(20,null,["",""])),(n()(),e.ub(21,0,null,null,4,"li",[],null,null,null,null,null)),(n()(),e.ub(22,0,null,null,3,"a",[],[[2,"active",null],[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==e.Eb(n,23).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&u),u},null,null)),e.tb(23,671744,null,0,m.p,[m.m,m.a,i.i],{routerLink:[0,"routerLink"]},null),e.Fb(24,1),(n()(),e.Mb(25,null,["",""])),(n()(),e.ub(26,0,null,null,2,"div",[["class","uk-navbar-right"]],null,null,null,null,null)),(n()(),e.ub(27,0,null,null,1,"ca-active-user",[],null,null,null,mn.b,mn.a)),e.tb(28,245760,null,0,fn.a,[m.a,m.m],null,null),(n()(),e.ub(29,0,null,null,33,"div",[["class","uk-grid-collapse"],["uk-grid",""],["uk-height-viewport","offset-top: true"]],null,null,null,null,null)),(n()(),e.ub(30,0,null,null,12,"div",[["class","uk-width-expand"]],null,null,null,null,null)),e.tb(31,16384,null,0,i.p,[],{ngSwitch:[0,"ngSwitch"]},null),(n()(),e.lb(16777216,null,null,1,null,$n)),e.tb(33,278528,null,0,i.q,[e.T,e.Q,i.p],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.lb(16777216,null,null,1,null,Tn)),e.tb(35,278528,null,0,i.q,[e.T,e.Q,i.p],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.lb(16777216,null,null,1,null,Nn)),e.tb(37,278528,null,0,i.q,[e.T,e.Q,i.p],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e.lb(16777216,null,null,1,null,Fn)),e.tb(39,16384,null,0,i.r,[e.T,e.Q,i.p],null,null),(n()(),e.lb(16777216,null,null,2,null,Ln)),e.tb(41,16384,null,0,i.l,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),e.Gb(131072,i.b,[e.i]),(n()(),e.ub(43,0,null,null,19,"div",[["class","uk-flex uk-flex-wrap uk-flex-column uk-flex-wrap-between sidebar"]],null,null,null,null,null)),(n()(),e.ub(44,0,null,null,16,"div",[["class","video-audio-control"]],null,null,null,null,null)),(n()(),e.ub(45,0,null,null,1,"img",[["class","background-sidebar-video"],["src","assets/images/group-366.svg"]],[[8,"title",0]],null,null,null,null)),e.Gb(131072,i.b,[e.i]),(n()(),e.ub(47,0,null,null,2,"div",[],[[8,"className",0]],null,null,null,null)),(n()(),e.ub(48,0,null,null,1,"ca-consultation-component-video",[["show","local"]],null,null,null,hn,pn)),e.tb(49,114688,null,0,gn,[a.a,e.l,e.H,bn.a],{show:[0,"show"]},null),(n()(),e.ub(50,0,null,null,10,"ul",[],null,null,null,null,null)),(n()(),e.ub(51,0,null,null,4,"li",[],null,null,null,null,null)),(n()(),e.ub(52,0,null,null,3,"a",[["href","#"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.toggleAudio(t)&&e),e},null,null)),(n()(),e.ub(53,0,null,null,2,"fa-icon",[["class","ng-fa-icon"]],[[2,"iconDisabled",null],[8,"innerHTML",1]],null,null,on.b,on.a)),e.tb(54,573440,null,0,an.a,[v.c,an.b],{iconProp:[0,"iconProp"]},null),e.Fb(55,2),(n()(),e.ub(56,0,null,null,4,"li",[],null,null,null,null,null)),(n()(),e.ub(57,0,null,null,3,"a",[["href","#"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.toggleVideo(t)&&e),e},null,null)),(n()(),e.ub(58,0,null,null,2,"fa-icon",[["class","ng-fa-icon"]],[[2,"iconDisabled",null],[8,"innerHTML",1]],null,null,on.b,on.a)),e.tb(59,573440,null,0,an.a,[v.c,an.b],{iconProp:[0,"iconProp"]},null),e.Fb(60,2),(n()(),e.ub(61,0,null,null,1,"ca-consultation-component-sidebar",[],null,null,null,wn,Pn)),e.tb(62,245760,null,0,_n,[a.a,m.m,m.a,O.j,I.a,J.a],null,null)],function(n,l){var t=l.component;n(l,11,0,n(l,12,0,"start"!==t.tab?"../video":".")),n(l,16,0,t.isNewMessage),n(l,18,0,n(l,19,0,"start"!==t.tab?"../messages":".")),n(l,23,0,n(l,24,0,"start"!==t.tab?"../details":".")),n(l,28,0),n(l,31,0,t.tab),n(l,33,0,"video"),n(l,35,0,"messages"),n(l,37,0,"details"),n(l,41,0,"streaming"===e.Nb(l,41,0,e.Eb(l,42).transform(t.state$))),n(l,49,0,"local"),n(l,54,0,n(l,55,0,"fas",t.audioEnabled?"volume-up":"volume-mute")),n(l,59,0,n(l,60,0,"fas",t.videoEnabled?"video":"video-slash")),n(l,62,0)},function(n,l){var t=l.component;n(l,8,0,t.patient.firstName,t.patient.lastName),n(l,10,0,"video"===t.tab,e.Eb(l,11).target,e.Eb(l,11).href),n(l,13,0,t.locale["video.label"]),n(l,17,0,"messages"===t.tab,e.Eb(l,18).target,e.Eb(l,18).href),n(l,20,0,t.locale["messages.label"]),n(l,22,0,"details"===t.tab,e.Eb(l,23).target,e.Eb(l,23).href),n(l,25,0,t.locale["details.label"]),n(l,45,0,e.wb(1,"",e.Nb(l,45,0,e.Eb(l,46).transform(t.state$)),"")),n(l,47,0,"messages"===t.tab||"details"===t.tab?"video-thumbnail":"video-preview"),n(l,53,0,!t.audioEnabled,e.Eb(l,54).renderedIconHTML),n(l,58,0,!t.videoEnabled,e.Eb(l,59).renderedIconHTML)})}var Hn=e.qb("ca-consultation-component-topbar",In,function(n){return e.Ob(0,[(n()(),e.ub(0,0,null,null,1,"ca-consultation-component-topbar",[],null,null,null,jn,Sn)),e.tb(1,114688,null,0,In,[m.a,a.a,O.j,I.a,f.a,J.a,m.m],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),An=t("gIcY"),Qn=t("t/Na"),Kn=t("9M2I"),Gn=t("Tq3v"),Rn=function(){function n(n){this.router=n}return n.prototype.canActivate=function(){var n=JSON.parse(localStorage.getItem("credentials"));return!(!n||!n.access_token)||(this.router.navigate(["/","auth","invalidate"]),!1)},n}(),Dn=t("6blF"),Vn=function(){function n(n,l,t){this.router=n,this.store=l,this.auth=t}return n.prototype.canActivate=function(n){var l=this;return new Dn.a(function(t){l.store.findOne("rendezvous",n.params.rendezvous_id).subscribe(function(n){return"inprogress"!==n.status&&"pending"!==n.status?(l.router.navigate(["/rendezvous"]),t.next(!1)):t.next(!0),t.complete()},function(){return t.next(!1),t.complete()})})},n}(),qn=t("mjOj"),Jn=function(){function n(n){this.store=n}return n.prototype.resolve=function(n){var l=this;return new Dn.a(function(t){if(l.id===n.params.rendezvous_id)return t.next(l.record),t.complete();l.store.query("patient",{rendezvousId:n.params.rendezvous_id}).subscribe(function(e){return l.record=e[0],l.record.rendezvousId=n.params.rendezvous_id,l.id=n.params.rendezvous_id,t.next(l.record),t.complete()},function(n){return t.error(n)})})},n}(),Zn=function(){function n(n,l,t){this.store=n,this.video=l,this.route=t,this.isSubscribed=!1}return n.prototype.resolve=function(n){var l=this;return new Dn.a(function(t){return l.isSubscribed||(l.isSubscribed=!0,l.video.credentials$.subscribe(function(t){l.identity=t,l.connectVideo(n)})),t.next(),t.complete()})},n.prototype.connectVideo=function(n){this.identity&&"start"!==n.params.action&&(this.rendezvousId=n.params.rendezvous_id,this.video.connect(this.rendezvousId).subscribe(function(n){},function(n){console.error("Impossible to connect to Twilio to get the video"),console.error(n)}))},n}(),Yn=t("lTb1"),Bn=t("GboA"),Un=t("26FU"),Wn=function(){function n(n){this.store=n,this.records$=new Un.a([])}return n.prototype.resolve=function(n){var l=this;return new Dn.a(function(t){l.store.query("file",{rendezvous:n.params.rendezvous_id,type:""}).subscribe(function(n){return l.records$.next(n),t.next(l.records$),t.complete()},function(n){return t.error(n)})})},n}(),Xn=t("atAv"),nl=t("zD5e"),ll=t("V0uy"),tl=t("0uqy"),el=t("JDI7"),ul=t("WUsJ"),ol=t("yanu");t.d(l,"ConsultationModuleNgFactory",function(){return il});var il=e.rb(u,[],function(n){return e.Bb([e.Cb(512,e.k,e.gb,[[8,[o.a,Hn]],[3,e.k],e.A]),e.Cb(4608,i.n,i.m,[e.x,[2,i.z]]),e.Cb(4608,An.v,An.v,[]),e.Cb(4608,An.d,An.d,[]),e.Cb(4608,Qn.h,Qn.n,[i.d,e.E,Qn.l]),e.Cb(4608,Qn.o,Qn.o,[Qn.h,Qn.m]),e.Cb(5120,Qn.a,function(n){return[n]},[Qn.o]),e.Cb(4608,Qn.k,Qn.k,[]),e.Cb(6144,Qn.i,null,[Qn.k]),e.Cb(4608,Qn.g,Qn.g,[Qn.i]),e.Cb(6144,Qn.b,null,[Qn.g]),e.Cb(4608,Qn.f,Qn.j,[Qn.b,e.t]),e.Cb(4608,Qn.c,Qn.c,[Qn.f]),e.Cb(4608,Kn.c,Kn.c,[e.t,Kn.b,Kn.a]),e.Cb(4608,Gn.a,Gn.a,[]),e.Cb(4608,Rn,Rn,[m.m]),e.Cb(4608,Vn,Vn,[m.m,I.a,m.a]),e.Cb(4608,qn.a,qn.a,[I.a,f.a,a.a]),e.Cb(4608,Jn,Jn,[I.a]),e.Cb(4608,Zn,Zn,[I.a,a.a,m.a]),e.Cb(4608,Yn.a,Yn.a,[I.a]),e.Cb(4608,Bn.a,Bn.a,[I.a,f.a,m.a]),e.Cb(4608,Wn,Wn,[I.a]),e.Cb(1073742336,i.c,i.c,[]),e.Cb(1073742336,m.q,m.q,[[2,m.w],[2,m.m]]),e.Cb(1073742336,an.f,an.f,[]),e.Cb(1073742336,Xn.a,Xn.a,[]),e.Cb(1073742336,An.t,An.t,[]),e.Cb(1073742336,An.h,An.h,[]),e.Cb(1073742336,An.r,An.r,[]),e.Cb(1073742336,nl.a,nl.a,[]),e.Cb(1073742336,Qn.e,Qn.e,[]),e.Cb(1073742336,Qn.d,Qn.d,[]),e.Cb(1073742336,ll.a,ll.a,[]),e.Cb(1073742336,tl.a,tl.a,[]),e.Cb(1073742336,el.a,el.a,[]),e.Cb(1073742336,ul.a,ul.a,[]),e.Cb(1073742336,ol.a,ol.a,[]),e.Cb(1073742336,u,u,[]),e.Cb(256,Qn.l,"XSRF-TOKEN",[]),e.Cb(256,Qn.m,"X-XSRF-TOKEN",[]),e.Cb(256,Kn.b,{url:"wss://api-sang.itfsoft.com",prefix:"",environment:"development",query:"__sails_io_sdk_version=1.2.1&__sails_io_sdk_platform=node&__sails_io_sdk_language=javascript",reconnection:!0,autoConnect:!1,reconnectionAttempts:10,reconnectionDelay:6e3,reconnectionDelayMax:6e3},[]),e.Cb(256,Kn.a,[Gn.a],[]),e.Cb(1024,m.k,function(){return[[{path:"",redirectTo:"start",pathMatch:"full"},{path:":action",canActivate:[Rn,Vn],resolve:{patient:Jn,rendezvous:qn.a,video:Zn,messages$:Bn.a,captures$:Yn.a,file$:Wn},runGuardsAndResolvers:"always",component:In}]]},[])])})},"u1T+":function(n,l,t){"use strict";t.d(l,"a",function(){return u});var e=t("mrSG"),u=function(n){function l(){return null!==n&&n.apply(this,arguments)||this}return Object(e.__extends)(l,n),l.prototype.ngOnInit=function(){this.init()},l.prototype.click=function(n){this.inputControl.setValue(n.value),this.save()},l}(t("t8OG").a)}}]);