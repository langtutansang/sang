(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{kuP5:function(n,l,t){"use strict";t.r(l);var e=t("CcnG"),o=function(){},i=t("pMnS"),u=t("Ip0R"),a=t("E9yh"),s=t("1YRo"),r=function(){function n(n){this.video=n,this.locale=s.a,this.streamingState$=this.video.state$}return n.prototype.ngOnInit=function(){},n}(),d=e["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]   h2[_ngcontent-%COMP%]{color:#adaeb3;font-weight:500;font-style:normal;font-stretch:normal;line-height:normal;letter-spacing:normal;margin-top:3rem}[_nghost-%COMP%]   .video[_ngcontent-%COMP%]{max-width:1200px;display:block;width:100%;max-height:800px;height:100%}"]],data:{}});function c(n){return e["\u0275vid"](0,[(n()(),e["\u0275ted"](0,null,["",""]))],null,function(n,l){n(l,0,0,l.component.locale["video.connecting.title"])})}function g(n){return e["\u0275vid"](0,[(n()(),e["\u0275ted"](0,null,["",""]))],null,function(n,l){n(l,0,0,l.component.locale["video.empty.title"])})}function p(n){return e["\u0275vid"](0,[(n()(),e["\u0275ted"](0,null,["",""]))],null,function(n,l){n(l,0,0,l.component.locale["video.connected.title"])})}function m(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,13,"div",[["class","uk-height-1-1 uk-flex uk-flex-column uk-flex-middle uk-flex-center"]],null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,12,"div",[["class","uk-flex-column"]],null,null,null,null,null)),(n()(),e["\u0275eld"](2,0,null,null,1,"img",[["src","assets/images/group-366.svg"]],[[8,"title",0]],null,null,null,null)),e["\u0275pid"](131072,u.AsyncPipe,[e.ChangeDetectorRef]),(n()(),e["\u0275eld"](4,0,null,null,9,"h2",[["class","uk-text-center"]],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,2,null,c)),e["\u0275did"](6,16384,null,0,u.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),e["\u0275pid"](131072,u.AsyncPipe,[e.ChangeDetectorRef]),(n()(),e["\u0275and"](16777216,null,null,2,null,g)),e["\u0275did"](9,16384,null,0,u.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),e["\u0275pid"](131072,u.AsyncPipe,[e.ChangeDetectorRef]),(n()(),e["\u0275and"](16777216,null,null,2,null,p)),e["\u0275did"](12,16384,null,0,u.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),e["\u0275pid"](131072,u.AsyncPipe,[e.ChangeDetectorRef])],function(n,l){var t=l.component;n(l,6,0,"connecting"===e["\u0275unv"](l,6,0,e["\u0275nov"](l,7).transform(t.streamingState$))),n(l,9,0,"empty"===e["\u0275unv"](l,9,0,e["\u0275nov"](l,10).transform(t.streamingState$))),n(l,12,0,"connected"===e["\u0275unv"](l,12,0,e["\u0275nov"](l,13).transform(t.streamingState$)))},function(n,l){var t=l.component;n(l,2,0,e["\u0275inlineInterpolate"](1,"",e["\u0275unv"](l,2,0,e["\u0275nov"](l,3).transform(t.video.state$)),""))})}function h(n){return e["\u0275vid"](0,[(n()(),e["\u0275and"](16777216,null,null,2,null,m)),e["\u0275did"](1,16384,null,0,u.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),e["\u0275pid"](131072,u.AsyncPipe,[e.ChangeDetectorRef])],function(n,l){var t=l.component;n(l,1,0,"streaming"!==e["\u0275unv"](l,1,0,e["\u0275nov"](l,2).transform(t.streamingState$)))},null)}var f=t("ZYCi"),v=t("PZQB"),C=function(){function n(n,l,t,e){this.route=n,this.messagesService=l,this.dom=t,this.toastr=e,this.locale=s.a,this.lastIndex=0}return n.prototype.ngOnInit=function(){var n=this;this.state$=this.messagesService.state$,this.route.snapshot.data.messages$.subscribe(function(l){l.length>0&&(n.lastIndex=l.slice(-1)[0].index),n.scrollToBottom()}),this.messages$=this.route.snapshot.data.messages$,this.patient=this.route.snapshot.data.patient,this.userLogged=JSON.parse(localStorage.getItem("credentials")),this.onConnectMessage()},n.prototype.sendMessage=function(n){var l=this;this.resetInputMessage(),""!==n&&this.messagesService.send(n).subscribe(function(){l.resetInputMessage()},function(n){l.toastr.warning("Sending the message failed ","Error"),console.error(n)})},n.prototype.scrollToBottom=function(){var n=this;setTimeout(function(){var l=n.scrollableContent.nativeElement;l.scrollTop=l.scrollHeight},1e3)},n.prototype.resetInputMessage=function(){this.inputMessage.nativeElement.innerHTML=""},n.prototype.focusInputMessage=function(){this.inputMessage.nativeElement.focus()},n.prototype.saveRenId=function(){localStorage.setItem("modal:sharefiles",this.route.snapshot.params.rendezvous_id)},n.prototype.onConnectMessage=function(){var n=this;setTimeout(function(){n.state$.subscribe(function(n){"chatting"!==n&&location.reload(!0)})},15e3)},n.prototype.setIndexRead=function(){this.messagesService.setReadMessage(this.lastIndex)},n}(),b=t("ZYjt"),_=t("SZbH"),M=e["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]   .scrollable-content[_ngcontent-%COMP%]{overflow-y:auto;height:500px;flex-grow:1}[_nghost-%COMP%]   .spinner[_ngcontent-%COMP%]{width:650px;margin:auto;position:relative;height:100%}[_nghost-%COMP%]   ul.messages[_ngcontent-%COMP%]{width:650px;margin-top:2rem;margin-left:auto;margin-right:auto}[_nghost-%COMP%]   ul.messages[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:400px;font-style:normal;font-stretch:normal;line-height:normal;letter-spacing:normal;font-size:14px;color:#353b50}[_nghost-%COMP%]   ul.messages[_ngcontent-%COMP%]   li.right[_ngcontent-%COMP%]{margin-left:auto}[_nghost-%COMP%]   ul.messages[_ngcontent-%COMP%]   li.right[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{text-align:right}[_nghost-%COMP%]   ul.messages[_ngcontent-%COMP%]   li.right[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{background:#fff;word-wrap:break-word}[_nghost-%COMP%]   ul.messages[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:first-child){margin-top:1rem}[_nghost-%COMP%]   ul.messages[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{border:1px solid #ebecf2;border-radius:5px;line-height:1.4rem;background:#dfe0e6;padding:1rem;word-wrap:break-word}[_nghost-%COMP%]   ul.messages[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{color:#353b50;padding:.5rem}[_nghost-%COMP%]   ul.messages[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-style:normal;font-stretch:normal;line-height:normal;letter-spacing:normal;font-size:.9rem;font-weight:700;margin-right:.5rem}[_nghost-%COMP%]   ul.messages[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-style:normal;font-stretch:normal;line-height:normal;letter-spacing:normal;font-size:.7rem}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{position:relative;border:1px solid #ebecf2;background:#fff;border-radius:5px;max-width:620px;width:80%;padding:1rem;margin:3rem auto 4rem}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .textarea[_ngcontent-%COMP%]{border:none;min-height:20px;max-height:150px;padding:0}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .uk-position-right[_ngcontent-%COMP%]{bottom:10px;top:auto}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .file[_ngcontent-%COMP%]{border:none;margin-right:2.3rem;margin-top:1rem;padding:0 0 0 1rem;border-left:1px solid #ebecf2}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .textarea[_ngcontent-%COMP%]{padding-right:3rem}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]{width:330px;background:#fff;border-left:1px solid #ebecf2}"]],data:{}});function P(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,"div",[["class","spinner"]],null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,0,"span",[["class","uk-position-center"],["uk-spinner",""]],null,null,null,null,null))],null,null)}function O(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e["\u0275ted"](1,null,["Dr. "," ",""]))],null,function(n,l){var t=l.component;n(l,1,0,t.userLogged.first_name,t.userLogged.last_name)})}function k(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e["\u0275ted"](1,null,[""," ",""]))],null,function(n,l){var t=l.component;n(l,1,0,t.patient.firstName,t.patient.lastName)})}function y(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,9,"li",[],[[2,"right",null]],null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,0,"div",[["class","message"]],[[8,"innerHTML",1]],null,null,null,null)),(n()(),e["\u0275eld"](2,0,null,null,7,"div",[["class","meta"]],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,O)),e["\u0275did"](4,16384,null,0,u.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275and"](16777216,null,null,1,null,k)),e["\u0275did"](6,16384,null,0,u.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275eld"](7,0,null,null,2,"small",[],null,null,null,null,null)),(n()(),e["\u0275ted"](8,null,["",""])),e["\u0275pid"](131072,u.AsyncPipe,[e.ChangeDetectorRef])],function(n,l){var t=l.component;n(l,4,0,l.context.$implicit.author===t.userLogged.userId),n(l,6,0,l.context.$implicit.author!==t.userLogged.userId)},function(n,l){n(l,0,0,l.context.$implicit.author===l.component.userLogged.userId),n(l,1,0,null==l.context.$implicit?null:l.context.$implicit.body),n(l,8,0,e["\u0275unv"](l,8,0,e["\u0275nov"](l,9).transform(null==l.context.$implicit?null:l.context.$implicit.fromNow$)))})}function x(n){return e["\u0275vid"](0,[e["\u0275qud"](402653184,1,{scrollableContent:0}),e["\u0275qud"](402653184,2,{inputMessage:0}),(n()(),e["\u0275eld"](2,0,null,null,19,"div",[["class","uk-height-1-1 uk-flex uk-flex-column"]],null,null,null,null,null)),(n()(),e["\u0275eld"](3,0,[[1,0],["scrollableContent",1]],null,7,"div",[["class","scrollable-content"]],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,2,null,P)),e["\u0275did"](5,16384,null,0,u.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),e["\u0275pid"](131072,u.AsyncPipe,[e.ChangeDetectorRef]),(n()(),e["\u0275eld"](7,0,null,null,3,"ul",[["class","messages"]],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,2,null,y)),e["\u0275did"](9,278528,null,0,u.NgForOf,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),e["\u0275pid"](131072,u.AsyncPipe,[e.ChangeDetectorRef]),(n()(),e["\u0275eld"](11,0,null,null,10,"form",[["class","ca-consultation-messages"]],[[2,"disabled",null]],null,null,null,null)),e["\u0275pid"](131072,u.AsyncPipe,[e.ChangeDetectorRef]),(n()(),e["\u0275eld"](13,0,[[2,0],["inputMessage",1]],null,0,"div",[["class","textarea uk-textarea no-shadow-on-focus"],["contenteditable","true"]],null,[[null,"click"],[null,"keydown.enter"]],function(n,l,t){var e=!0,o=n.component;return"click"===l&&(e=!1!==o.setIndexRead()&&e),"keydown.enter"===l&&(t.preventDefault(),e=!1!==o.sendMessage(t.target.innerHTML)&&e),e},null,null)),(n()(),e["\u0275eld"](14,0,null,null,7,"div",[["class","uk-position-right"]],null,null,null,null,null)),(n()(),e["\u0275eld"](15,0,null,null,6,"a",[["class","file uk-button uk-button-default uk-button-small"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,t){var o=!0,i=n.component;return"click"===l&&(o=!1!==e["\u0275nov"](n,16).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&o),"click"===l&&(o=!1!==i.saveRenId()&&o),o},null,null)),e["\u0275did"](16,671744,null,0,f.p,[f.m,f.a,u.LocationStrategy],{routerLink:[0,"routerLink"]},null),e["\u0275pad"](17,1),e["\u0275pod"](18,{modal:0}),e["\u0275pod"](19,{outlets:0}),e["\u0275pad"](20,2),(n()(),e["\u0275eld"](21,0,null,null,0,"img",[["src","assets/images/file.svg"]],null,null,null,null,null))],function(n,l){var t=l.component;n(l,5,0,"chatting"!==e["\u0275unv"](l,5,0,e["\u0275nov"](l,6).transform(t.state$))),n(l,9,0,e["\u0275unv"](l,9,0,e["\u0275nov"](l,10).transform(t.messages$))),n(l,16,0,n(l,20,0,"",n(l,19,0,n(l,18,0,n(l,17,0,"sharefiles")))))},function(n,l){var t=l.component;n(l,11,0,"chatting"!==e["\u0275unv"](l,11,0,e["\u0275nov"](l,12).transform(t.state$))),n(l,15,0,e["\u0275nov"](l,16).target,e["\u0275nov"](l,16).href)})}var w=t("clWd"),I=t("u1T+"),S=t("YZbJ"),R=t("iALW"),z=t("zL2J"),N=t("uTto"),$=t("ImiU"),E=t("LP9L"),T=t("AV+3"),L=t("ioQR"),A=t("FwOg"),F=t("ttpr"),D=t("SA/s"),V=t("ZjNd"),j=t("TxC/"),H=t("7O5W"),K=t("wHSu"),q=t("AytR"),J=t("oy4r"),B=t("Enh/");H.d.add(K.H,K.B),H.d.add(K.H,K.z);var U=q.a.store.models.patient.defaultCountryCode,Z=function(){function n(n,l,t,e,o,i){var u=this;this.route=n,this.store=l,this.router=t,this.toastr=e,this.video=o,this.handleService=i,this.locale=s.a,this.file=[],this.patientPhoneMask={mask:"{"+U+" (\\0)} 0 00 00 00 00",lazy:!1,placeholderChar:" "},this.cc=q.a.store.models.patient.defaultCountryCode,this.isFinishing=!1,this.onFinishSuccess=function(){sessionStorage.clear(),u.router.navigate(["",{outlets:{modal:null}}]),u.router.navigate(["/"]),u.isFinishing=!1,u.toastr.success("The appointment ended well.","Success")},this.onFinishFail=function(n){u.isFinishing=!1,u.toastr.error("The appointment did not complete properly.","Error")}}return n.prototype.ngOnInit=function(){var n=this;this.patient=this.route.snapshot.data.patient,this.user=JSON.parse(localStorage.getItem("credentials")),this.messages$=this.route.snapshot.data.messages$,this.isChildOptions=[{displayValue:"T\xe9l\xe9consultation personnelle",value:!1},{displayValue:"T\xe9l\xe9consultation pour un enfant",value:!0}],this.protectionOptions=B.c,this.genderOptions=[{displayValue:"Madame",value:"female"},{displayValue:"Monsieur",value:"male"}],this.genderChildOptions=[{displayValue:"Garcon",value:"male"},{displayValue:"Fille",value:"female"}],this.captures$=this.route.snapshot.data.captures$,this.rendezvous=this.route.snapshot.data.rendezvous,this.route.snapshot.data.file$.subscribe(function(l){return n.file=l})},n.prototype.onSelectIsChild=function(n){this.patient.isChild=n.value,this.store.save("patient",this.patient).subscribe()},n.prototype.onSelectProtection=function(n){this.patient.socialProtection=n.value},n.prototype.endCall=function(){var n=this;this.store.findOne("rendezvous",this.rendezvous.id).subscribe(function(l){if(!l.payment_status)return n.router.navigate(["",{outlets:{modal:["confirm-payment",n.rendezvous.id]}}]);n.isFinishing=!0,n.video.disconnect(),n.store.trigger("rendezvous","leaveCall",n.route.snapshot.params.rendezvous_id).subscribe(n.onFinishSuccess,n.onFinishFail)})},n.prototype.removeFile=function(n){var l=this,t=n.file;this.store.delete("file",t.id).subscribe(function(){l.file=l.file.filter(function(n){return n.id!==t.id}),l.toastr.success("The file has been deleted with Success.","Success")},function(n){return l.toastr.warning("An error occurred while deleting the file:","Error")})},n}(),W=e["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]   .actions[_ngcontent-%COMP%]{max-width:620px;width:100%;margin:1rem auto auto;text-align:right}[_nghost-%COMP%]   .scrollable-content[_ngcontent-%COMP%]{height:calc(100vh - 82px)}[_nghost-%COMP%]   .scrollable-content[_ngcontent-%COMP%] > section[_ngcontent-%COMP%]{height:100%;overflow-y:auto;position:relative}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{border:1px solid #ebecf2;border-radius:5px;background:#fff;max-width:620px;width:100%;margin:1rem auto}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]:last-child{margin-bottom:4rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]:first-child{margin-top:2rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{padding:0 4rem;margin-top:1.5rem;margin-bottom:1.5rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   form.readonly[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{background:0 0;border:none;padding:0;line-height:.8rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]:first-child{margin-top:3rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]:last-child{margin-bottom:3rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]:not(:first-child){padding-top:1rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{font-weight:500;font-size:.9rem;width:100%}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%], [_nghost-%COMP%]   .content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]:not(:first-child){margin-top:2rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .screenshots[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;background:#ebecf2;width:70px;height:70px;display:inline-block;margin-right:.9rem;border-radius:5px;overflow:hidden;margin-bottom:.5rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .screenshots[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(6n){margin-right:0}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .screenshots[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{min-width:100px}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   ul.files-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;border:1px solid #ebecf2;border-radius:5px;background:#fff;padding:1rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   ul.files-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:300px;display:inline-block;text-decoration:underline;font-size:.9rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   ul.files-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-style:normal;font-stretch:normal;letter-spacing:normal;color:#888fb5;font-size:.9rem;float:right;line-height:1.4rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   ul.files-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.has-delete[_ngcontent-%COMP%]{padding-right:2.4rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   ul.files-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.has-delete[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;position:absolute;right:.5rem;padding-left:1rem;top:1rem;width:20px;border-left:1px solid #ebecf2}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   ul.files-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.has-delete[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#888fb5}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   ul.files-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child:not(:last-child){border-bottom:none;border-bottom-right-radius:0;border-bottom-left-radius:0}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   ul.files-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:first-child):not(:last-child){border-radius:0;border-bottom:none}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   ul.files-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child:not(:first-child){border-top-right-radius:0;border-top-left-radius:0}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .endup[_ngcontent-%COMP%]{text-align:right;padding-top:1.5rem;margin-bottom:2rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .endup[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{min-width:4.5rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .endup[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .invisible[_ngcontent-%COMP%]{visibility:hidden}"]],data:{}});function Y(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,"ca-input-radio",[["class","uk-width-1-1 form-item"],["key","gender"]],[[2,"state-error",null],[2,"state",null]],null,null,w.b,w.a)),e["\u0275did"](1,114688,null,0,I.a,[S.a,_.j],{model:[0,"model"],key:[1,"key"],label:[2,"label"],list:[3,"list"]},null)],function(n,l){var t=l.component;n(l,1,0,t.patient,"gender",t.locale["details.form.patient.field.gender.title"],t.genderOptions)},function(n,l){n(l,0,0,e["\u0275nov"](l,1).hasError,e["\u0275nov"](l,1).hasState)})}function G(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,"ca-input-radio",[["class","uk-width-1-1 form-item"],["key","gender"]],[[2,"state-error",null],[2,"state",null]],null,null,w.b,w.a)),e["\u0275did"](1,114688,null,0,I.a,[S.a,_.j],{model:[0,"model"],key:[1,"key"],label:[2,"label"],list:[3,"list"]},null)],function(n,l){var t=l.component;n(l,1,0,t.patient,"gender",t.locale["details.form.patient.field.gender.isChild.title"],t.genderChildOptions)},function(n,l){n(l,0,0,e["\u0275nov"](l,1).hasError,e["\u0275nov"](l,1).hasState)})}function X(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,"ca-input-text",[["class","uk-width-1-2 form-item"],["key","firstName"]],[[2,"state-error",null],[2,"state",null]],null,null,R.b,R.a)),e["\u0275did"](1,4308992,null,0,z.a,[S.a,_.j],{model:[0,"model"],key:[1,"key"],label:[2,"label"]},null),(n()(),e["\u0275eld"](2,0,null,null,1,"ca-input-text",[["class","uk-width-1-2 form-item"],["key","lastName"]],[[2,"state-error",null],[2,"state",null]],null,null,R.b,R.a)),e["\u0275did"](3,4308992,null,0,z.a,[S.a,_.j],{model:[0,"model"],key:[1,"key"],label:[2,"label"]},null)],function(n,l){var t=l.component;n(l,1,0,t.patient,"firstName",t.locale["details.form.patient.field.firstName"]),n(l,3,0,t.patient,"lastName",t.locale["details.form.patient.field.lastName"])},function(n,l){n(l,0,0,e["\u0275nov"](l,1).hasError,e["\u0275nov"](l,1).hasState),n(l,2,0,e["\u0275nov"](l,3).hasError,e["\u0275nov"](l,3).hasState)})}function Q(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,"ca-input-text",[["class","uk-width-1-2 form-item"],["key","firstName"]],[[2,"state-error",null],[2,"state",null]],null,null,R.b,R.a)),e["\u0275did"](1,4308992,null,0,z.a,[S.a,_.j],{model:[0,"model"],key:[1,"key"],label:[2,"label"]},null),(n()(),e["\u0275eld"](2,0,null,null,1,"ca-input-text",[["class","uk-width-1-2 form-item"],["key","lastName"]],[[2,"state-error",null],[2,"state",null]],null,null,R.b,R.a)),e["\u0275did"](3,4308992,null,0,z.a,[S.a,_.j],{model:[0,"model"],key:[1,"key"],label:[2,"label"]},null),(n()(),e["\u0275eld"](4,0,null,null,1,"ca-input-text",[["class","uk-width-1-2 form-item"],["key","parentFirstName"]],[[2,"state-error",null],[2,"state",null]],null,null,R.b,R.a)),e["\u0275did"](5,4308992,null,0,z.a,[S.a,_.j],{model:[0,"model"],key:[1,"key"],label:[2,"label"]},null),(n()(),e["\u0275eld"](6,0,null,null,1,"ca-input-text",[["class","uk-width-1-2 form-item"],["key","parentLastName"]],[[2,"state-error",null],[2,"state",null]],null,null,R.b,R.a)),e["\u0275did"](7,4308992,null,0,z.a,[S.a,_.j],{model:[0,"model"],key:[1,"key"],label:[2,"label"]},null)],function(n,l){var t=l.component;n(l,1,0,t.patient,"firstName",t.locale["details.form.patient.field.isChild.firstName"]),n(l,3,0,t.patient,"lastName",t.locale["details.form.patient.field.isChild.lastName"]),n(l,5,0,t.patient,"parentFirstName",t.locale["details.form.patient.field.isChild.parent.firstName"]),n(l,7,0,t.patient,"parentLastName",t.locale["details.form.patient.field.isChild.parent.lastName"])},function(n,l){n(l,0,0,e["\u0275nov"](l,1).hasError,e["\u0275nov"](l,1).hasState),n(l,2,0,e["\u0275nov"](l,3).hasError,e["\u0275nov"](l,3).hasState),n(l,4,0,e["\u0275nov"](l,5).hasError,e["\u0275nov"](l,5).hasState),n(l,6,0,e["\u0275nov"](l,7).hasError,e["\u0275nov"](l,7).hasState)})}function nn(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,7,"li",[],null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,6,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,t){var o=!0;return"click"===l&&(o=!1!==e["\u0275nov"](n,2).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&o),o},null,null)),e["\u0275did"](2,671744,null,0,f.p,[f.m,f.a,u.LocationStrategy],{routerLink:[0,"routerLink"]},null),e["\u0275pad"](3,3),e["\u0275pod"](4,{modal:0}),e["\u0275pod"](5,{outlets:0}),e["\u0275pad"](6,2),(n()(),e["\u0275eld"](7,0,null,null,0,"img",[["class","uk-position-center"]],[[8,"src",4],[8,"title",0]],null,null,null,null))],function(n,l){n(l,2,0,n(l,6,0,"",n(l,5,0,n(l,4,0,n(l,3,0,"capture",l.context.$implicit.id,"edit")))))},function(n,l){n(l,1,0,e["\u0275nov"](l,2).target,e["\u0275nov"](l,2).href),n(l,7,0,l.context.$implicit.source,l.context.$implicit.description||l.context.$implicit.filename)})}function ln(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,0,"span",[["class","uk-position-center"],["uk-spinner","ratio: .5"]],null,null,null,null,null))],null,null)}function tn(n){return e["\u0275vid"](0,[e["\u0275pid"](0,u.DatePipe,[e.LOCALE_ID]),(n()(),e["\u0275eld"](1,0,null,null,66,"div",[["class","uk-flex scrollable-content"]],null,null,null,null,null)),(n()(),e["\u0275eld"](2,0,null,null,65,"section",[["class","uk-width-expand"]],null,null,null,null,null)),(n()(),e["\u0275eld"](3,0,null,null,36,"div",[["class","content"]],null,null,null,null,null)),(n()(),e["\u0275eld"](4,0,null,null,12,"form",[["class","inline-edit"]],null,null,null,null,null)),(n()(),e["\u0275eld"](5,0,null,null,11,"fieldset",[],null,null,null,null,null)),(n()(),e["\u0275eld"](6,0,null,null,1,"legend",[],null,null,null,null,null)),(n()(),e["\u0275ted"](7,null,["",""])),(n()(),e["\u0275eld"](8,0,null,null,4,"div",[["class","form-item readonly"]],null,null,null,null,null)),(n()(),e["\u0275eld"](9,0,null,null,1,"label",[["for","input-date"]],null,null,null,null,null)),(n()(),e["\u0275ted"](10,null,["",""])),(n()(),e["\u0275eld"](11,0,null,null,1,"input",[["class","uk-input ca-input-text"],["disabled",""],["id","input-date"],["name","input-date"],["type","text"]],[[8,"value",0]],null,null,null,null)),e["\u0275ppd"](12,2),(n()(),e["\u0275eld"](13,0,null,null,3,"div",[["class","form-item readonly"]],null,null,null,null,null)),(n()(),e["\u0275eld"](14,0,null,null,1,"label",[["for","input-duration"]],null,null,null,null,null)),(n()(),e["\u0275ted"](15,null,["",""])),(n()(),e["\u0275eld"](16,0,null,null,0,"input",[["class","uk-input ca-input-text"],["disabled",""],["id","input-duration"],["name","input-duration"],["type","text"]],[[8,"value",0]],null,null,null,null)),(n()(),e["\u0275eld"](17,0,null,null,22,"form",[["class","inline-edit"]],null,null,null,null,null)),(n()(),e["\u0275eld"](18,0,null,null,21,"fieldset",[],null,null,null,null,null)),(n()(),e["\u0275eld"](19,0,null,null,3,"legend",[],null,null,null,null,null)),(n()(),e["\u0275ted"](20,null,[" "," "])),(n()(),e["\u0275eld"](21,0,null,null,1,"ca-dropdown",[["class","uk-position-right ca-drapdown-small no-border ca-dropdown"]],null,[[null,"select"]],function(n,l,t){var e=!0;return"select"===l&&(e=!1!==n.component.onSelectIsChild(t)&&e),e},N.b,N.a)),e["\u0275did"](22,114688,null,0,$.a,[],{options:[0,"options"],value:[1,"value"]},{select:"select"}),(n()(),e["\u0275eld"](23,0,null,null,16,"div",[["uk-grid",""]],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,Y)),e["\u0275did"](25,16384,null,0,u.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275and"](16777216,null,null,1,null,G)),e["\u0275did"](27,16384,null,0,u.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275and"](16777216,null,null,1,null,X)),e["\u0275did"](29,16384,null,0,u.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275and"](16777216,null,null,1,null,Q)),e["\u0275did"](31,16384,null,0,u.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275eld"](32,0,null,null,1,"ca-input-text",[["class","uk-width-1-2 form-item"],["key","email"]],[[2,"state-error",null],[2,"state",null]],null,null,R.b,R.a)),e["\u0275did"](33,4308992,null,0,z.a,[S.a,_.j],{model:[0,"model"],key:[1,"key"],label:[2,"label"]},null),(n()(),e["\u0275eld"](34,0,null,null,1,"ca-input-mask",[["class","uk-width-1-2 form-item"],["key","phoneNumber"]],[[2,"state-error",null],[2,"state",null]],null,null,E.b,E.a)),e["\u0275did"](35,114688,null,0,T.a,[S.a,_.j],{model:[0,"model"],key:[1,"key"],label:[2,"label"],mask:[3,"mask"]},null),(n()(),e["\u0275eld"](36,0,null,null,1,"ca-input-dropdown",[["class","uk-width-1-2 form-item"],["key","socialProtection"]],[[2,"state-error",null],[2,"state",null]],[[null,"valueChanges"]],function(n,l,t){var e=!0;return"valueChanges"===l&&(e=!1!==n.component.onSelectProtection(t)&&e),e},L.b,L.a)),e["\u0275did"](37,114688,null,0,A.a,[S.a,_.j],{model:[0,"model"],key:[1,"key"],label:[2,"label"],list:[3,"list"]},{valueChanges:"valueChanges"}),(n()(),e["\u0275eld"](38,0,null,null,1,"ca-input-mask",[["class","uk-width-1-2 form-item"],["key","healthInsuranceNumber"]],[[2,"state-error",null],[2,"state",null]],null,null,E.b,E.a)),e["\u0275did"](39,114688,null,0,T.a,[S.a,_.j],{model:[0,"model"],key:[1,"key"],label:[2,"label"],mask:[3,"mask"]},null),(n()(),e["\u0275eld"](40,0,null,null,27,"div",[["class","content"]],null,null,null,null,null)),(n()(),e["\u0275eld"](41,0,null,null,26,"form",[["class","readonly"]],null,null,null,null,null)),(n()(),e["\u0275eld"](42,0,null,null,19,"fieldset",[["class","report"]],null,null,null,null,null)),(n()(),e["\u0275eld"](43,0,null,null,1,"legend",[],null,null,null,null,null)),(n()(),e["\u0275ted"](44,null,["",""])),(n()(),e["\u0275eld"](45,0,null,null,1,"ca-input-textarea",[["class","form-item"],["key","notes"]],[[2,"state-error",null],[2,"state",null]],null,null,F.b,F.a)),e["\u0275did"](46,114688,null,0,D.a,[S.a,_.j,b.c],{model:[0,"model"],key:[1,"key"],label:[2,"label"]},null),(n()(),e["\u0275eld"](47,0,null,null,8,"div",[["class","form-item screenshots"]],null,null,null,null,null)),(n()(),e["\u0275eld"](48,0,null,null,3,"label",[],null,null,null,null,null)),(n()(),e["\u0275ted"](49,null,[""," capture",""])),e["\u0275pid"](131072,u.AsyncPipe,[e.ChangeDetectorRef]),e["\u0275pid"](131072,u.AsyncPipe,[e.ChangeDetectorRef]),(n()(),e["\u0275eld"](52,0,null,null,3,"ul",[],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,2,null,nn)),e["\u0275did"](54,278528,null,0,u.NgForOf,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),e["\u0275pid"](131072,u.AsyncPipe,[e.ChangeDetectorRef]),(n()(),e["\u0275eld"](56,0,null,null,5,"div",[["class","form-item files"]],null,null,null,null,null)),(n()(),e["\u0275eld"](57,0,null,null,1,"label",[["for","input-file-shared"]],null,null,null,null,null)),(n()(),e["\u0275ted"](58,null,["",""])),(n()(),e["\u0275eld"](59,0,null,null,0,"input",[["disabled",""],["id","input-file-shared"],["name","input-file-shared"],["type","text"]],[[8,"value",0]],null,null,null,null)),(n()(),e["\u0275eld"](60,0,null,null,1,"ca-consultation-file-list",[],null,[[null,"removeFile"]],function(n,l,t){var e=!0;return"removeFile"===l&&(e=!1!==n.component.removeFile(t)&&e),e},V.b,V.a)),e["\u0275did"](61,49152,null,0,j.a,[f.m],{model:[0,"model"]},{removeFile:"removeFile"}),(n()(),e["\u0275eld"](62,0,null,null,5,"div",[["class","endup"]],null,null,null,null,null)),(n()(),e["\u0275eld"](63,0,null,null,4,"button",[["class","ca-button ca-button-primary"],["type","button"]],[[8,"disabled",0],[2,"disabled",null]],[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.endCall()&&e),e},null,null)),(n()(),e["\u0275eld"](64,0,null,null,1,"span",[],[[2,"invisible",null]],null,null,null,null)),(n()(),e["\u0275ted"](65,null,["",""])),(n()(),e["\u0275and"](16777216,null,null,1,null,ln)),e["\u0275did"](67,16384,null,0,u.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=l.component;n(l,22,0,t.isChildOptions,t.isChildOptions[t.patient.isChild?1:0]),n(l,25,0,!t.patient.isChild),n(l,27,0,t.patient.isChild),n(l,29,0,!t.patient.isChild),n(l,31,0,t.patient.isChild),n(l,33,0,t.patient,"email",t.patient.isChild?t.locale["details.form.patient.field.isChild.email"]:t.locale["details.form.patient.field.email"]),n(l,35,0,t.patient,"phoneNumber",t.locale["details.form.patient.field.phoneNumber"],t.cc+"(\\0) 0 00 00 00 00"),n(l,37,0,t.patient,"socialProtection",t.locale["details.form.patient.field.socialProtection"],t.protectionOptions),n(l,39,0,t.patient,"healthInsuranceNumber",t.locale["details.form.patient.field.healthInsuranceNumber"],"0 00 00 00 000 000 00"),n(l,46,0,t.rendezvous,"notes",t.locale["details.form.report.notes.label"]),n(l,54,0,e["\u0275unv"](l,54,0,e["\u0275nov"](l,55).transform(t.captures$))),n(l,61,0,t.file),n(l,67,0,t.isFinishing)},function(n,l){var t,o,i=l.component;n(l,7,0,i.locale["details.form.tele.title"]),n(l,10,0,i.locale["details.form.tele.field.date"]),n(l,11,0,e["\u0275unv"](l,11,0,n(l,12,0,e["\u0275nov"](l,0),null==i.rendezvous?null:i.rendezvous.date,"d MMMM, y, H:mm"))),n(l,15,0,i.locale["details.form.tele.field.duration"]),n(l,16,0,(null==i.rendezvous?null:i.rendezvous.duration)+" min"),n(l,20,0,i.locale["details.form.patient.title"]),n(l,32,0,e["\u0275nov"](l,33).hasError,e["\u0275nov"](l,33).hasState),n(l,34,0,e["\u0275nov"](l,35).hasError,e["\u0275nov"](l,35).hasState),n(l,36,0,e["\u0275nov"](l,37).hasError,e["\u0275nov"](l,37).hasState),n(l,38,0,e["\u0275nov"](l,39).hasError,e["\u0275nov"](l,39).hasState),n(l,44,0,i.locale["details.form.report.title"]),n(l,45,0,e["\u0275nov"](l,46).hasError,e["\u0275nov"](l,46).hasState),n(l,49,0,null==(t=e["\u0275unv"](l,49,0,e["\u0275nov"](l,50).transform(i.captures$)))?null:t.length,(null==(o=e["\u0275unv"](l,49,1,e["\u0275nov"](l,51).transform(i.captures$)))?null:o.length)>1?"s":""),n(l,58,0,i.locale["details.form.report.sharefiles"]),n(l,59,0,e["\u0275inlineInterpolate"](1,"",i.file.length," Documents")),n(l,63,0,i.isFinishing,i.isFinishing),n(l,64,0,i.isFinishing),n(l,65,0,i.locale["details.button.finish"])})}var en=t("fNgX"),on=t("Hf/j");H.d.add(K.H,K.E);var un=function(){function n(n,l){this.activateRoute=n,this.store=l,this.locale=s.a}return n.prototype.ngOnInit=function(){this.rendezvous=this.activateRoute.snapshot.data.rendezvous,localStorage.removeItem("preview")},n.prototype.startVideo=function(){var n=new Date;this.rendezvous.startedAt=n.getTime(),this.store.save("rendezvous",this.rendezvous).subscribe()},n}(),an=e["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]   .popup[_ngcontent-%COMP%]{margin-top:-30%;width:100%;max-width:580px;border-radius:5px;box-shadow:0 2px 5px 0 rgba(0,40,176,.1);background-color:#fff;border:1px solid #dfe0e6}[_nghost-%COMP%]   .popup[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]{padding:3rem}[_nghost-%COMP%]   .popup[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-style:normal;font-stretch:normal;line-height:normal;letter-spacing:normal;font-weight:700;font-size:1.25rem}[_nghost-%COMP%]   .popup[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-bottom:0}[_nghost-%COMP%]   .popup[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{margin-right:1rem}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]{width:330px;background:#fff;border-left:1px solid #ebecf2}"]],data:{}});function sn(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,13,"div",[["class","uk-height-1-1 uk-flex uk-flex-column uk-flex-middle uk-flex-center"]],null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,12,"div",[["class","popup uk-text-center"]],null,null,null,null,null)),(n()(),e["\u0275eld"](2,0,null,null,11,"div",[["class","inner"]],null,null,null,null,null)),(n()(),e["\u0275eld"](3,0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),e["\u0275ted"](4,null,["",""])),(n()(),e["\u0275eld"](5,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e["\u0275ted"](6,null,["",""])),(n()(),e["\u0275eld"](7,0,null,null,6,"a",[["class","ca-button ca-button-primary uk-align-center"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,t){var o=!0,i=n.component;return"click"===l&&(o=!1!==e["\u0275nov"](n,8).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&o),"click"===l&&(o=!1!==i.startVideo()&&o),o},null,null)),e["\u0275did"](8,671744,null,0,f.p,[f.m,f.a,u.LocationStrategy],{routerLink:[0,"routerLink"]},null),e["\u0275pad"](9,2),(n()(),e["\u0275eld"](10,0,null,null,2,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,en.b,en.a)),e["\u0275did"](11,573440,null,0,on.a,[b.c,on.b],{iconProp:[0,"iconProp"]},null),e["\u0275pad"](12,2),(n()(),e["\u0275ted"](13,null,[" ",""]))],function(n,l){n(l,8,0,n(l,9,0,"..","video")),n(l,11,0,n(l,12,0,"fas","video"))},function(n,l){var t=l.component;n(l,4,0,t.locale["start.popup.title"]),n(l,6,0,t.locale["start.popup.content"]),n(l,7,0,e["\u0275nov"](l,8).target,e["\u0275nov"](l,8).href),n(l,10,0,e["\u0275nov"](l,11).renderedIconHTML),n(l,13,0,t.locale["start.popup.button"])})}function rn(n,l,t){n.forEach(function(n){l.appendChild(t,n.attach())})}var dn=t("12c2"),cn=function(){function n(n,l,t,e){this.video=n,this.el=l,this.renderer=t,this.deviceService=e,this.show="local"}return n.prototype.ngOnInit=function(){var n=this;"local"===this.show&&this.video.localParticipant$.subscribe(function(l){rn(l,n.renderer,n.el.nativeElement)}),"remote"===this.show&&this.video.remoteParticipants$.subscribe(function(l){if(l.length>0){var t=l[0].kind,e=l.filter(function(n){return n.kind===t})[0],o=Array.from(n.video.room.participants.values())[0];("audio"===t?o.audioTracks.values():o.videoTracks.values()).next().value.trackSid===e.sid&&rn(l,n.renderer,n.el.nativeElement)}})},n.prototype.attackVideo=function(){var n=this;this.deviceService.getConfig().subscribe(function(l){navigator.mediaDevices.getUserMedia({video:!!l.videoinput&&{deviceId:l.videoinput.deviceId},audio:!!l.audiooutput&&{deviceId:l.audiooutput.deviceId}}).then(function(l){n.el.nativeElement.children[1].srcObject=l},function(n){console.log("User rejected camera capture permissions",n)})})},n}(),gn=e["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]:before, video   [_nghost-%COMP%]:after{width:100%}"]],data:{}});function pn(n){return e["\u0275vid"](0,[],null,null)}var mn=t("xbQG"),hn=t("PWs5"),fn=t("xXU7"),vn=t("67Y/"),Cn=t("p0Sj"),bn=t("wd/R");H.d.add(K.H,K.E),H.d.add(K.H,K.F);var _n=function(){function n(n,l,t,e,o,i){this.video=n,this.router=l,this.route=t,this.toastr=e,this.store=o,this.handleService=i,this.locale=s.a,this.videoEnabled=this.video.videoEnabled,this.audioEnabled=this.video.audioEnabled,this.isLoadVideo=!1,this.time="00:00",this.enabledEndcall=!1,this.setupAccount=!1,this.dismissState={ctrlZ:!0,text:!0},this.enableReportButton=!0,this.streamingState$=this.video.state$}return n.prototype.ngOnInit=function(){var n=this;this.rendezvous=this.route.snapshot.data.rendezvous,this.route.paramMap.subscribe(function(l){"start"===l.get("action")||n.enabledEndcall||n.video.connect(n.rendezvous.id).subscribe(),n.enabledEndcall="start"!==l.get("action")}),this.actionEnabled$=this.video.remoteParticipants$.pipe(Object(vn.a)(function(n){return n&&n[0]})),this.actionEnabled$.subscribe(),"paid"===this.rendezvous.payment_status&&this.handleService.setSuccessPayment(!0),this.handleService.setAmountPayment(this.rendezvous.payment_amount),this.handleService.getSuccessPayment().subscribe(function(l){return n.successPayment=l}),this.handleService.getAmountPayment().subscribe(function(l){return n.rendezvous.payment_amount=l}),this.countTime(),this.listenPatient(),this.connectStripe()},n.prototype.connectStripe=function(){var n=this,l={access_token:JSON.parse(localStorage.getItem("credentials")).access_token,values:{redirect_uri:window.location.protocol+"//"+window.location.host+"/settings/receipts"}};this.store.trigger("stripe","generateOAuth",l).subscribe(function(l){n.setupAccount=!1},function(l){n.setupAccount=!0})},n.prototype.listenPatient=function(){var n=this;this.store.listenOne("rendezvous",this.rendezvous.id).subscribe(function(l){"request-download-file"===l.getVerb()&&l.getId()===n.route.snapshot.data.rendezvous.id&&(localStorage.setItem("modal:sharefiles",n.route.snapshot.data.rendezvous.patient.firstName),n.handleService.setFileList(l.getData()),n.router.navigate(["",{outlets:{modal:"receive-file"}}]))})},n.prototype.countTime=function(){var n=this;this.streamingState$.subscribe(function(l){if("streaming"===l){var t=bn(n.rendezvous.startedAt);n.timer$=Object(fn.a)(1e3).pipe(Object(Cn.a)(0),Object(vn.a)(function(){return n.duration=bn.duration(bn().diff(t)),n.duration.minutes()===n.rendezvous.duration&&0===n.duration.seconds()&&n.toastr.warning("The teleconsultation has just exceeded the duration of the appointment.","Warning"),n.duration.minutes()+":"+(n.duration.seconds()<=9?"0"+n.duration.seconds():n.duration.seconds())})).subscribe(function(l){return n.time=l})}else n.timer$&&n.timer$.unsubscribe()})},n.prototype.notReady=function(n){n.preventDefault(),this.toastr.info("Coming soon","Info",{disableTimeOut:!0})},n.prototype.saveRenId=function(){localStorage.setItem("modal:sharefiles",this.rendezvous.id)},n.prototype.ngOnDestroy=function(){this.timer$&&this.timer$.unsubscribe()},n.prototype.onPayment=function(){this.router.navigate(this.setupAccount?["/",{outlets:{modal:["payment"]}}]:["/",{outlets:{modal:["warning-payment"]}}])},n.prototype.dismissAlert=function(n){this.dismissState[n]=!1},n}(),Mn=e["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]{height:calc(100vh - 322px)}[_nghost-%COMP%]   div.actions[_ngcontent-%COMP%]{margin-top:2rem}[_nghost-%COMP%]   div.actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], [_nghost-%COMP%]   div.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#f7f8fa;border:1px solid #ebecf2;padding:1.85rem;display:block;border-radius:5px;text-align:center}[_nghost-%COMP%]   div.actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], [_nghost-%COMP%]   div.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:25px;height:25px}[_nghost-%COMP%]   div.actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not([disabled]), [_nghost-%COMP%]   div.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]){cursor:pointer;pointer-events:all}[_nghost-%COMP%]   div.actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not([disabled]):hover, [_nghost-%COMP%]   div.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]):hover{box-shadow:0 5px 10px 0 rgba(0,40,176,.1);border-color:#dfe0e6}[_nghost-%COMP%]   div.actions[_ngcontent-%COMP%]   a[disabled][_ngcontent-%COMP%], [_nghost-%COMP%]   div.actions[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{opacity:.5}[_nghost-%COMP%]   form.notes[_ngcontent-%COMP%]{margin:0 1rem;overflow-y:auto;max-height:calc(100vh - 70px)}[_nghost-%COMP%]   form.notes[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:uppercase;line-height:1.57rem}[_nghost-%COMP%]   form.notes[_ngcontent-%COMP%]   .textarea[_ngcontent-%COMP%]{font-size:.9rem;line-height:1.4rem;border:none;padding:0;min-height:200px;height:auto;overflow-x:hidden}[_nghost-%COMP%]   div.timer[_ngcontent-%COMP%]{background-image:linear-gradient(126deg,#45d2ab,#25af9b);padding:1rem;margin-top:auto;position:relative}[_nghost-%COMP%]   div.timer[_ngcontent-%COMP%]   progress[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;padding:0;top:0;left:0;border-radius:0;margin:0;border:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:#2cb69e}[_nghost-%COMP%]   div.timer[_ngcontent-%COMP%]   progress[_ngcontent-%COMP%]::-webkit-progress-value{background:#53e1cc;border-radius:0}[_nghost-%COMP%]   div.timer[_ngcontent-%COMP%]   progress[_ngcontent-%COMP%]::-moz-progress-bar{background:#53e1cc;border-radius:0}[_nghost-%COMP%]   div.timer[_ngcontent-%COMP%]   progress[_ngcontent-%COMP%]::-webkit-progress-bar{background:#2cb69e;border-radius:0}[_nghost-%COMP%]   div.timer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{opacity:.7;font-size:1.375rem;font-weight:700;line-height:2rem;color:#353b50}[_nghost-%COMP%]   div.timer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], [_nghost-%COMP%]   div.timer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:right;background-color:#fff;border-radius:5px;padding:.5rem 1rem;font-style:normal;font-stretch:normal;line-height:normal;letter-spacing:normal;font-weight:700;color:#21a68b;font-size:.9rem;border:none}[_nghost-%COMP%]   div.timer[_ngcontent-%COMP%]   a.muted[_ngcontent-%COMP%], [_nghost-%COMP%]   div.timer[_ngcontent-%COMP%]   button.muted[_ngcontent-%COMP%]{opacity:.8}[_nghost-%COMP%]   div.timer[_ngcontent-%COMP%]   a.muted[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   div.timer[_ngcontent-%COMP%]   button.muted[_ngcontent-%COMP%]:hover{cursor:default}[_nghost-%COMP%]   .ca-guidance[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;margin-bottom:5px}[_nghost-%COMP%]   .ca-guidance[_ngcontent-%COMP%]   .ca-guidance__wrapper[_ngcontent-%COMP%]{border-radius:5px;background:#ebecf2;margin-bottom:10px;margin-top:5px;padding-right:19px}[_nghost-%COMP%]   .ca-guidance[_ngcontent-%COMP%]   .ca-guidance__dismiss[_ngcontent-%COMP%]{position:absolute;top:7.5px;right:7.5px;background:url(/assets/images/dismiss.svg);color:#353b50!important;width:7.5px;height:10px;cursor:pointer;transition:color .1s ease-in-out,opacity .1s ease-in-out}[_nghost-%COMP%]   .ca-guidance[_ngcontent-%COMP%]   .ca-guidance__content[_ngcontent-%COMP%]{font-size:12px;font-family:silkaregularwebfont;line-height:1.83;letter-spacing:normal;color:#353b50;margin-top:0}[_nghost-%COMP%]   .ca-guidance[_ngcontent-%COMP%]   .ca-guidance--bold[_ngcontent-%COMP%]{font-weight:700;font-size:12px}[_nghost-%COMP%]   .ca-guidance[_ngcontent-%COMP%]   .ca-ctrl[_ngcontent-%COMP%]{display:inline;vertical-align:middle}[_nghost-%COMP%]   .ca-guidance[_ngcontent-%COMP%]   .ca-guidance--v-mid[_ngcontent-%COMP%]{vertical-align:middle}[_nghost-%COMP%]   .ca--display-none[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .ca--margin--top-10[_ngcontent-%COMP%]{margin-top:10px}[_nghost-%COMP%]   .ca--margin--bottom-10[_ngcontent-%COMP%]{margin-bottom:10px}"]],data:{}});function Pn(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,0,"progress",[["class","progress uk-progress"]],[[8,"value",0],[8,"max",0]],null,null,null,null))],null,function(n,l){var t=l.component;n(l,0,0,e["\u0275inlineInterpolate"](1,"",t.duration.seconds()+60*t.duration.minutes(),""),e["\u0275inlineInterpolate"](1,"",60*t.rendezvous.duration,""))})}function On(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,"button",[["class","muted uk-inline uk-button uk-button-default uk-button-small"]],null,null,null,null,null)),(n()(),e["\u0275ted"](1,null,["",""]))],null,function(n,l){n(l,1,0,l.component.locale["-components.sidebar.timer.button"])})}function kn(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,4,"a",[["class","uk-inline uk-button uk-button-default uk-button-small"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,t){var o=!0;return"click"===l&&(o=!1!==e["\u0275nov"](n,1).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&o),o},null,null)),e["\u0275did"](1,671744,null,0,f.p,[f.m,f.a,u.LocationStrategy],{routerLink:[0,"routerLink"]},null),e["\u0275pad"](2,2),e["\u0275pad"](3,1),(n()(),e["\u0275ted"](4,null,["",""]))],function(n,l){n(l,1,0,l.component.enabledEndcall?n(l,2,0,"..","details"):n(l,3,0,"."))},function(n,l){var t=l.component;n(l,0,0,e["\u0275nov"](l,1).target,e["\u0275nov"](l,1).href),n(l,4,0,t.locale["-components.sidebar.timer.button"])})}function yn(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,39,"div",[["class","uk-flex uk-flex-column sidebar"],["uk-height-viewport","offset-top: true"]],null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,25,"div",[["class","actions"]],null,null,null,null,null)),(n()(),e["\u0275eld"](2,0,null,null,24,"div",[["class","uk-flex uk-flex-row uk-flex-center uk-grid-small"],["uk-grid",""]],null,null,null,null,null)),(n()(),e["\u0275eld"](3,0,null,null,8,"div",[],null,null,null,null,null)),(n()(),e["\u0275eld"](4,0,null,null,7,"button",[["uk-tooltip","title: Capture photo; offset: -10; delay: 300"]],[[8,"disabled",0]],[[null,"click"]],function(n,l,t){var o=!0;return"click"===l&&(o=!1!==e["\u0275nov"](n,5).onClick()&&o),o},null,null)),e["\u0275did"](5,16384,null,0,f.n,[f.m,f.a,[8,null],e.Renderer2,e.ElementRef],{routerLink:[0,"routerLink"]},null),e["\u0275pad"](6,1),e["\u0275pod"](7,{modal:0}),e["\u0275pod"](8,{outlets:0}),e["\u0275pad"](9,2),e["\u0275pid"](131072,u.AsyncPipe,[e.ChangeDetectorRef]),(n()(),e["\u0275eld"](11,0,null,null,0,"img",[["src","assets/images/camera.svg"]],null,null,null,null,null)),(n()(),e["\u0275eld"](12,0,null,null,7,"div",[],null,null,null,null,null)),(n()(),e["\u0275eld"](13,0,null,null,6,"button",[["queryParamsHandling","preserve"],["uk-tooltip","title: Partage de fichier; offset: -10; delay: 300"]],null,[[null,"click"]],function(n,l,t){var o=!0,i=n.component;return"click"===l&&(o=!1!==e["\u0275nov"](n,14).onClick()&&o),"click"===l&&(o=!1!==i.saveRenId()&&o),o},null,null)),e["\u0275did"](14,16384,null,0,f.n,[f.m,f.a,[8,null],e.Renderer2,e.ElementRef],{queryParamsHandling:[0,"queryParamsHandling"],routerLink:[1,"routerLink"]},null),e["\u0275pad"](15,1),e["\u0275pod"](16,{modal:0}),e["\u0275pod"](17,{outlets:0}),e["\u0275pad"](18,2),(n()(),e["\u0275eld"](19,0,null,null,0,"img",[["src","assets/images/file.svg"]],null,null,null,null,null)),(n()(),e["\u0275eld"](20,0,null,null,3,"div",[],null,null,null,null,null)),(n()(),e["\u0275eld"](21,0,null,null,2,"button",[["queryParamsHandling","preserve"],["uk-tooltip","title: Demander le paiement; offset: -10; delay: 300"]],[[8,"disabled",0]],[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.onPayment()&&e),e},null,null)),e["\u0275pid"](131072,u.AsyncPipe,[e.ChangeDetectorRef]),(n()(),e["\u0275eld"](23,0,null,null,0,"img",[["src","assets/images/credit.svg"]],null,null,null,null,null)),(n()(),e["\u0275eld"](24,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),e["\u0275eld"](25,0,null,null,1,"button",[["uk-tooltip","title: Planifier un rendez-vous; offset: -10; delay: 300"]],null,null,null,null,null)),(n()(),e["\u0275eld"](26,0,null,null,0,"img",[["src","assets/images/add.svg"]],null,null,null,null,null)),(n()(),e["\u0275eld"](27,0,null,null,0,"hr",[],null,null,null,null,null)),(n()(),e["\u0275eld"](28,0,null,null,2,"form",[["class","notes"]],null,null,null,null,null)),(n()(),e["\u0275eld"](29,0,null,null,1,"ca-input-textarea",[["class","form-item"],["key","notes"]],[[2,"state-error",null],[2,"state",null]],null,null,F.b,F.a)),e["\u0275did"](30,114688,null,0,D.a,[S.a,_.j,b.c],{model:[0,"model"],key:[1,"key"],placeholder:[2,"placeholder"],label:[3,"label"]},null),(n()(),e["\u0275eld"](31,0,null,null,8,"div",[["class","timer"]],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,Pn)),e["\u0275did"](33,16384,null,0,u.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275eld"](34,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e["\u0275ted"](35,null,["",""])),(n()(),e["\u0275and"](16777216,null,null,1,null,On)),e["\u0275did"](37,16384,null,0,u.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275and"](16777216,null,null,1,null,kn)),e["\u0275did"](39,16384,null,0,u.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=l.component;n(l,5,0,n(l,9,0,"/",n(l,8,0,n(l,7,0,n(l,6,0,"capture"))))),n(l,14,0,"preserve",n(l,18,0,"/",n(l,17,0,n(l,16,0,n(l,15,0,"sharefiles"))))),n(l,30,0,t.rendezvous,"notes",t.locale["-components.sidebar.notes.textarea.placeholder"],t.locale["-components.sidebar.notes.label"]),n(l,33,0,t.duration),n(l,37,0,!t.enableReportButton),n(l,39,0,t.enableReportButton)},function(n,l){var t=l.component;n(l,4,0,!e["\u0275unv"](l,4,0,e["\u0275nov"](l,10).transform(t.actionEnabled$))),n(l,21,0,!e["\u0275unv"](l,21,0,e["\u0275nov"](l,22).transform(t.actionEnabled$))||t.successPayment&&t.rendezvous.payment_amount>0),n(l,29,0,e["\u0275nov"](l,30).hasError,e["\u0275nov"](l,30).hasState),n(l,35,0,t.time)})}var xn={"video.label":"Vid\xe9o","messages.label":"Messages","details.label":"D\xe9tails"},wn=function(){function n(n,l,t,e,o,i,u){this.route=n,this.video=l,this.toastr=t,this.store=e,this.messagesService=o,this.handleService=i,this.router=u,this.locale=xn,this.isActived=!1,this.isNewMessage=!1,this.listMessage=[],this.videoEnabled=this.video.videoEnabled,this.audioEnabled=this.video.audioEnabled}return n.prototype.ngOnInit=function(){var n=this;this.patient=this.route.snapshot.data.patient,this.rendezvous=this.route.snapshot.data.rendezvous,this.messagesService.incomingMessages$.subscribe(function(l){l&&-1===n.router.url.indexOf("messages")&&l.author===n.patient.id&&(n.isNewMessage=!0)}),this.handleService.setRendezvous(this.rendezvous),this.route.paramMap.subscribe(function(l){n.tab=l.get("action"),"start"===n.tab||n.isActived||n.store.trigger("rendezvous","practitionerJoinConsultation",{rendezvous_id:n.rendezvous.id}).subscribe(function(){return n.isActived=!0}),"messages"===n.tab&&(n.isNewMessage=!1)}),this.state$=this.video.state$},n.prototype.toggleVideo=function(n){n.preventDefault(),this.videoEnabled=!this.videoEnabled,this.video.toggleLocalVideo()},n.prototype.toggleAudio=function(n){n.preventDefault(),this.audioEnabled=!this.audioEnabled,this.video.toggleLocalAudio()},n}(),In=e["\u0275crt"]({encapsulation:0,styles:[['[_nghost-%COMP%]{display:block;position:relative;background:#fff}[_nghost-%COMP%]   .uk-width-1-1[_ngcontent-%COMP%]{border-bottom:2px solid #56e0c4}[_nghost-%COMP%]   nav[_ngcontent-%COMP%]{background:#fff;margin:auto;max-width:940px;padding:0 1rem}[_nghost-%COMP%]   nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .newMessage[_ngcontent-%COMP%]{width:8px;height:8px;position:absolute;background:#56e0c4;border-radius:100%;top:43%;right:0}[_nghost-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-transform:none;color:#353b50}[_nghost-%COMP%]   nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{font-weight:700}[_nghost-%COMP%]   nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]::before{content:"";border-bottom:3px solid #56e0c4;position:absolute;width:1.5rem;bottom:0}[_nghost-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child{margin-right:3rem}[_nghost-%COMP%]   nav[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:700;font-style:normal;font-stretch:normal;line-height:normal;letter-spacing:normal;padding:1rem 0}[_nghost-%COMP%]   nav[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.7rem;font-weight:500;font-style:normal;font-stretch:normal;letter-spacing:normal;line-height:1rem;color:#adaeb3;text-transform:uppercase;display:block}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]{width:320px;background:#fff;border-left:1px solid #ebecf2}[_nghost-%COMP%]   div.video-audio-control[_ngcontent-%COMP%]{position:relative;height:240px;overflow:hidden}[_nghost-%COMP%]   div.video-audio-control[_ngcontent-%COMP%]   .background-sidebar-video[_ngcontent-%COMP%]{z-index:0;position:absolute;height:240px;width:320px}[_nghost-%COMP%]   div.video-audio-control[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{position:absolute;right:1.5rem;bottom:1rem;z-index:3}[_nghost-%COMP%]   div.video-audio-control[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;margin:0 .4rem}[_nghost-%COMP%]   div.video-audio-control[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], [_nghost-%COMP%]   div.video-audio-control[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#fff;width:2.5rem;height:2.5rem;display:block;border-radius:50%;text-align:center;box-shadow:0 5px 10px 0 rgba(0,0,0,.4);font-size:1.1rem;color:#56e0c4}[_nghost-%COMP%]   div.video-audio-control[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   div.video-audio-control[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{padding-top:8px;margin-left:3px;display:block;font-size:1.2rem}[_nghost-%COMP%]   div.video-audio-control[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .iconDisabled[_ngcontent-%COMP%], [_nghost-%COMP%]   div.video-audio-control[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .iconDisabled[_ngcontent-%COMP%]{color:#e35555}[_nghost-%COMP%]   div.video-audio-control[_ngcontent-%COMP%]   .video-preview[_ngcontent-%COMP%]{width:320px;height:240px;position:absolute}[_nghost-%COMP%]   div.video-audio-control[_ngcontent-%COMP%]   .video-thumbnail[_ngcontent-%COMP%]{width:75px;height:40px;overflow:hidden;position:absolute;bottom:1rem;left:1rem;outline:#fff solid 2px;z-index:3}[_nghost-%COMP%]   div.video-audio-control[_ngcontent-%COMP%]   .video-large[_ngcontent-%COMP%]{position:absolute}[_nghost-%COMP%]   .local-video[_ngcontent-%COMP%]{position:absolute;top:82px;right:0;width:320px;z-index:2}']],data:{}});function Sn(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,0,"span",[["class","newMessage"]],null,null,null,null,null))],null,null)}function Rn(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,"ca-consultation-video",[],null,null,null,h,d)),e["\u0275did"](1,114688,null,0,r,[a.a],null,null)],function(n,l){n(l,1,0)},null)}function zn(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,"ca-consultation-messages",[["class","uk-height-1-1"]],null,null,null,x,M)),e["\u0275did"](1,114688,null,0,C,[f.a,v.a,b.c,_.j],null,null)],function(n,l){n(l,1,0)},null)}function Nn(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,"ca-consultation-details",[["class","ca-consultation"]],null,null,null,tn,W)),e["\u0275did"](1,114688,null,0,Z,[f.a,S.a,f.m,_.j,a.a,J.a],null,null)],function(n,l){n(l,1,0)},null)}function $n(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,"ca-consultation-start",[],null,null,null,sn,an)),e["\u0275did"](1,114688,null,0,un,[f.a,S.a],null,null)],function(n,l){n(l,1,0)},null)}function En(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,2,"div",[],[[8,"className",0]],null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,1,"ca-consultation-component-video",[["show","remote"]],null,null,null,pn,gn)),e["\u0275did"](2,114688,null,0,cn,[a.a,e.ElementRef,e.Renderer2,dn.a],{show:[0,"show"]},null)],function(n,l){n(l,2,0,"remote")},function(n,l){n(l,0,0,"video"===l.component.tab?"uk-height-1-1 uk-flex uk-flex-column uk-flex-middle uk-flex-center":"local-video")})}function Tn(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,28,"div",[["class","uk-width-1-1"]],null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,27,"nav",[["class","uk-navbar-container"],["uk-navbar",""]],null,null,null,null,null)),(n()(),e["\u0275eld"](2,0,null,null,23,"div",[["class","uk-navbar-left"]],null,null,null,null,null)),(n()(),e["\u0275eld"](3,0,null,null,22,"ul",[["class","uk-navbar-nav"]],null,null,null,null,null)),(n()(),e["\u0275eld"](4,0,null,null,4,"li",[],null,null,null,null,null)),(n()(),e["\u0275eld"](5,0,null,null,3,"h1",[],null,null,null,null,null)),(n()(),e["\u0275eld"](6,0,null,null,1,"small",[],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,["Patient"])),(n()(),e["\u0275ted"](8,null,[" "," "," "])),(n()(),e["\u0275eld"](9,0,null,null,4,"li",[],null,null,null,null,null)),(n()(),e["\u0275eld"](10,0,null,null,3,"a",[],[[2,"active",null],[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,t){var o=!0;return"click"===l&&(o=!1!==e["\u0275nov"](n,11).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&o),o},null,null)),e["\u0275did"](11,671744,null,0,f.p,[f.m,f.a,u.LocationStrategy],{routerLink:[0,"routerLink"]},null),e["\u0275pad"](12,1),(n()(),e["\u0275ted"](13,null,["",""])),(n()(),e["\u0275eld"](14,0,null,null,6,"li",[],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,Sn)),e["\u0275did"](16,16384,null,0,u.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275eld"](17,0,null,null,3,"a",[],[[2,"active",null],[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,t){var o=!0;return"click"===l&&(o=!1!==e["\u0275nov"](n,18).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&o),o},null,null)),e["\u0275did"](18,671744,null,0,f.p,[f.m,f.a,u.LocationStrategy],{routerLink:[0,"routerLink"]},null),e["\u0275pad"](19,1),(n()(),e["\u0275ted"](20,null,["",""])),(n()(),e["\u0275eld"](21,0,null,null,4,"li",[],null,null,null,null,null)),(n()(),e["\u0275eld"](22,0,null,null,3,"a",[],[[2,"active",null],[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,t){var o=!0;return"click"===l&&(o=!1!==e["\u0275nov"](n,23).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&o),o},null,null)),e["\u0275did"](23,671744,null,0,f.p,[f.m,f.a,u.LocationStrategy],{routerLink:[0,"routerLink"]},null),e["\u0275pad"](24,1),(n()(),e["\u0275ted"](25,null,["",""])),(n()(),e["\u0275eld"](26,0,null,null,2,"div",[["class","uk-navbar-right"]],null,null,null,null,null)),(n()(),e["\u0275eld"](27,0,null,null,1,"ca-active-user",[],null,null,null,mn.b,mn.a)),e["\u0275did"](28,245760,null,0,hn.a,[f.a,f.m],null,null),(n()(),e["\u0275eld"](29,0,null,null,33,"div",[["class","uk-grid-collapse"],["uk-grid",""],["uk-height-viewport","offset-top: true"]],null,null,null,null,null)),(n()(),e["\u0275eld"](30,0,null,null,12,"div",[["class","uk-width-expand"]],null,null,null,null,null)),e["\u0275did"](31,16384,null,0,u.NgSwitch,[],{ngSwitch:[0,"ngSwitch"]},null),(n()(),e["\u0275and"](16777216,null,null,1,null,Rn)),e["\u0275did"](33,278528,null,0,u.NgSwitchCase,[e.ViewContainerRef,e.TemplateRef,u.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e["\u0275and"](16777216,null,null,1,null,zn)),e["\u0275did"](35,278528,null,0,u.NgSwitchCase,[e.ViewContainerRef,e.TemplateRef,u.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e["\u0275and"](16777216,null,null,1,null,Nn)),e["\u0275did"](37,278528,null,0,u.NgSwitchCase,[e.ViewContainerRef,e.TemplateRef,u.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e["\u0275and"](16777216,null,null,1,null,$n)),e["\u0275did"](39,16384,null,0,u.NgSwitchDefault,[e.ViewContainerRef,e.TemplateRef,u.NgSwitch],null,null),(n()(),e["\u0275and"](16777216,null,null,2,null,En)),e["\u0275did"](41,16384,null,0,u.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),e["\u0275pid"](131072,u.AsyncPipe,[e.ChangeDetectorRef]),(n()(),e["\u0275eld"](43,0,null,null,19,"div",[["class","uk-flex uk-flex-wrap uk-flex-column uk-flex-wrap-between sidebar"]],null,null,null,null,null)),(n()(),e["\u0275eld"](44,0,null,null,16,"div",[["class","video-audio-control"]],null,null,null,null,null)),(n()(),e["\u0275eld"](45,0,null,null,1,"img",[["class","background-sidebar-video"],["src","assets/images/group-366.svg"]],[[8,"title",0]],null,null,null,null)),e["\u0275pid"](131072,u.AsyncPipe,[e.ChangeDetectorRef]),(n()(),e["\u0275eld"](47,0,null,null,2,"div",[],[[8,"className",0]],null,null,null,null)),(n()(),e["\u0275eld"](48,0,null,null,1,"ca-consultation-component-video",[["show","local"]],null,null,null,pn,gn)),e["\u0275did"](49,114688,null,0,cn,[a.a,e.ElementRef,e.Renderer2,dn.a],{show:[0,"show"]},null),(n()(),e["\u0275eld"](50,0,null,null,10,"ul",[],null,null,null,null,null)),(n()(),e["\u0275eld"](51,0,null,null,4,"li",[],null,null,null,null,null)),(n()(),e["\u0275eld"](52,0,null,null,3,"a",[["href","#"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.toggleAudio(t)&&e),e},null,null)),(n()(),e["\u0275eld"](53,0,null,null,2,"fa-icon",[["class","ng-fa-icon"]],[[2,"iconDisabled",null],[8,"innerHTML",1]],null,null,en.b,en.a)),e["\u0275did"](54,573440,null,0,on.a,[b.c,on.b],{iconProp:[0,"iconProp"]},null),e["\u0275pad"](55,2),(n()(),e["\u0275eld"](56,0,null,null,4,"li",[],null,null,null,null,null)),(n()(),e["\u0275eld"](57,0,null,null,3,"a",[["href","#"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.toggleVideo(t)&&e),e},null,null)),(n()(),e["\u0275eld"](58,0,null,null,2,"fa-icon",[["class","ng-fa-icon"]],[[2,"iconDisabled",null],[8,"innerHTML",1]],null,null,en.b,en.a)),e["\u0275did"](59,573440,null,0,on.a,[b.c,on.b],{iconProp:[0,"iconProp"]},null),e["\u0275pad"](60,2),(n()(),e["\u0275eld"](61,0,null,null,1,"ca-consultation-component-sidebar",[],null,null,null,yn,Mn)),e["\u0275did"](62,245760,null,0,_n,[a.a,f.m,f.a,_.j,S.a,J.a],null,null)],function(n,l){var t=l.component;n(l,11,0,n(l,12,0,"start"!==t.tab?"../video":".")),n(l,16,0,t.isNewMessage),n(l,18,0,n(l,19,0,"start"!==t.tab?"../messages":".")),n(l,23,0,n(l,24,0,"start"!==t.tab?"../details":".")),n(l,28,0),n(l,31,0,t.tab),n(l,33,0,"video"),n(l,35,0,"messages"),n(l,37,0,"details"),n(l,41,0,"streaming"===e["\u0275unv"](l,41,0,e["\u0275nov"](l,42).transform(t.state$))),n(l,49,0,"local"),n(l,54,0,n(l,55,0,"fas",t.audioEnabled?"volume-up":"volume-mute")),n(l,59,0,n(l,60,0,"fas",t.videoEnabled?"video":"video-slash")),n(l,62,0)},function(n,l){var t=l.component;n(l,8,0,t.patient.firstName,t.patient.lastName),n(l,10,0,"video"===t.tab,e["\u0275nov"](l,11).target,e["\u0275nov"](l,11).href),n(l,13,0,t.locale["video.label"]),n(l,17,0,"messages"===t.tab,e["\u0275nov"](l,18).target,e["\u0275nov"](l,18).href),n(l,20,0,t.locale["messages.label"]),n(l,22,0,"details"===t.tab,e["\u0275nov"](l,23).target,e["\u0275nov"](l,23).href),n(l,25,0,t.locale["details.label"]),n(l,45,0,e["\u0275inlineInterpolate"](1,"",e["\u0275unv"](l,45,0,e["\u0275nov"](l,46).transform(t.state$)),"")),n(l,47,0,"messages"===t.tab||"details"===t.tab?"video-thumbnail":"video-preview"),n(l,53,0,!t.audioEnabled,e["\u0275nov"](l,54).renderedIconHTML),n(l,58,0,!t.videoEnabled,e["\u0275nov"](l,59).renderedIconHTML)})}var Ln=e["\u0275ccf"]("ca-consultation-component-topbar",wn,function(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,"ca-consultation-component-topbar",[],null,null,null,Tn,In)),e["\u0275did"](1,114688,null,0,wn,[f.a,a.a,_.j,S.a,v.a,J.a,f.m],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),An=t("gIcY"),Fn=t("t/Na"),Dn=t("9M2I"),Vn=t("Tq3v"),jn=function(){function n(n){this.router=n}return n.prototype.canActivate=function(){var n=JSON.parse(localStorage.getItem("credentials"));return!(!n||!n.access_token)||(this.router.navigate(["/","auth","invalidate"]),!1)},n}(),Hn=t("6blF"),Kn=function(){function n(n,l,t){this.router=n,this.store=l,this.auth=t}return n.prototype.canActivate=function(n){var l=this;return new Hn.a(function(t){l.store.findOne("rendezvous",n.params.rendezvous_id).subscribe(function(n){return"inprogress"!==n.status&&"pending"!==n.status?(l.router.navigate(["/rendezvous"]),t.next(!1)):t.next(!0),t.complete()},function(){return t.next(!1),t.complete()})})},n}(),qn=t("mjOj"),Jn=function(){function n(n){this.store=n}return n.prototype.resolve=function(n){var l=this;return new Hn.a(function(t){if(l.id===n.params.rendezvous_id)return t.next(l.record),t.complete();l.store.query("patient",{rendezvousId:n.params.rendezvous_id}).subscribe(function(e){return l.record=e[0],l.record.rendezvousId=n.params.rendezvous_id,l.id=n.params.rendezvous_id,t.next(l.record),t.complete()},function(n){return t.error(n)})})},n}(),Bn=function(){function n(n,l,t){this.store=n,this.video=l,this.route=t,this.isSubscribed=!1}return n.prototype.resolve=function(n){var l=this;return new Hn.a(function(t){return l.isSubscribed||(l.isSubscribed=!0,l.video.credentials$.subscribe(function(t){l.identity=t,l.connectVideo(n)})),t.next(),t.complete()})},n.prototype.connectVideo=function(n){this.identity&&"start"!==n.params.action&&(this.rendezvousId=n.params.rendezvous_id,this.video.connect(this.rendezvousId).subscribe(function(n){},function(n){console.error("Impossible to connect to Twilio to get the video"),console.error(n)}))},n}(),Un=t("lTb1"),Zn=t("GboA"),Wn=t("26FU"),Yn=function(){function n(n){this.store=n,this.records$=new Wn.a([])}return n.prototype.resolve=function(n){var l=this;return new Hn.a(function(t){l.store.query("file",{rendezvous:n.params.rendezvous_id,type:""}).subscribe(function(n){return l.records$.next(n),t.next(l.records$),t.complete()},function(n){return t.error(n)})})},n}(),Gn=t("atAv"),Xn=t("zD5e"),Qn=t("V0uy"),nl=t("0uqy"),ll=t("JDI7"),tl=t("WUsJ"),el=t("yanu");t.d(l,"ConsultationModuleNgFactory",function(){return ol});var ol=e["\u0275cmf"](o,[],function(n){return e["\u0275mod"]([e["\u0275mpd"](512,e.ComponentFactoryResolver,e["\u0275CodegenComponentFactoryResolver"],[[8,[i.a,Ln]],[3,e.ComponentFactoryResolver],e.NgModuleRef]),e["\u0275mpd"](4608,u.NgLocalization,u.NgLocaleLocalization,[e.LOCALE_ID,[2,u["\u0275angular_packages_common_common_a"]]]),e["\u0275mpd"](4608,An["\u0275angular_packages_forms_forms_i"],An["\u0275angular_packages_forms_forms_i"],[]),e["\u0275mpd"](4608,An.FormBuilder,An.FormBuilder,[]),e["\u0275mpd"](4608,Fn.h,Fn.n,[u.DOCUMENT,e.PLATFORM_ID,Fn.l]),e["\u0275mpd"](4608,Fn.o,Fn.o,[Fn.h,Fn.m]),e["\u0275mpd"](5120,Fn.a,function(n){return[n]},[Fn.o]),e["\u0275mpd"](4608,Fn.k,Fn.k,[]),e["\u0275mpd"](6144,Fn.i,null,[Fn.k]),e["\u0275mpd"](4608,Fn.g,Fn.g,[Fn.i]),e["\u0275mpd"](6144,Fn.b,null,[Fn.g]),e["\u0275mpd"](4608,Fn.f,Fn.j,[Fn.b,e.Injector]),e["\u0275mpd"](4608,Fn.c,Fn.c,[Fn.f]),e["\u0275mpd"](4608,Dn.c,Dn.c,[e.Injector,Dn.b,Dn.a]),e["\u0275mpd"](4608,Vn.a,Vn.a,[]),e["\u0275mpd"](4608,jn,jn,[f.m]),e["\u0275mpd"](4608,Kn,Kn,[f.m,S.a,f.a]),e["\u0275mpd"](4608,qn.a,qn.a,[S.a,v.a,a.a]),e["\u0275mpd"](4608,Jn,Jn,[S.a]),e["\u0275mpd"](4608,Bn,Bn,[S.a,a.a,f.a]),e["\u0275mpd"](4608,Un.a,Un.a,[S.a]),e["\u0275mpd"](4608,Zn.a,Zn.a,[S.a,v.a,f.a]),e["\u0275mpd"](4608,Yn,Yn,[S.a]),e["\u0275mpd"](1073742336,u.CommonModule,u.CommonModule,[]),e["\u0275mpd"](1073742336,f.q,f.q,[[2,f.w],[2,f.m]]),e["\u0275mpd"](1073742336,on.f,on.f,[]),e["\u0275mpd"](1073742336,Gn.a,Gn.a,[]),e["\u0275mpd"](1073742336,An["\u0275angular_packages_forms_forms_bb"],An["\u0275angular_packages_forms_forms_bb"],[]),e["\u0275mpd"](1073742336,An.FormsModule,An.FormsModule,[]),e["\u0275mpd"](1073742336,An.ReactiveFormsModule,An.ReactiveFormsModule,[]),e["\u0275mpd"](1073742336,Xn.a,Xn.a,[]),e["\u0275mpd"](1073742336,Fn.e,Fn.e,[]),e["\u0275mpd"](1073742336,Fn.d,Fn.d,[]),e["\u0275mpd"](1073742336,Qn.a,Qn.a,[]),e["\u0275mpd"](1073742336,nl.a,nl.a,[]),e["\u0275mpd"](1073742336,ll.a,ll.a,[]),e["\u0275mpd"](1073742336,tl.a,tl.a,[]),e["\u0275mpd"](1073742336,el.a,el.a,[]),e["\u0275mpd"](1073742336,o,o,[]),e["\u0275mpd"](256,Fn.l,"XSRF-TOKEN",[]),e["\u0275mpd"](256,Fn.m,"X-XSRF-TOKEN",[]),e["\u0275mpd"](256,Dn.b,{url:"wss://api-sang.itfsoft.com",prefix:"",environment:"development",query:"__sails_io_sdk_version=1.2.1&__sails_io_sdk_platform=node&__sails_io_sdk_language=javascript",reconnection:!0,autoConnect:!1,reconnectionAttempts:10,reconnectionDelay:6e3,reconnectionDelayMax:6e3},[]),e["\u0275mpd"](256,Dn.a,[Vn.a],[]),e["\u0275mpd"](1024,f.k,function(){return[[{path:"",redirectTo:"start",pathMatch:"full"},{path:":action",canActivate:[jn,Kn],resolve:{patient:Jn,rendezvous:qn.a,video:Bn,messages$:Zn.a,captures$:Un.a,file$:Yn},runGuardsAndResolvers:"always",component:wn}]]},[])])})}}]);